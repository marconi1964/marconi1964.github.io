[["index.html", "TensorFlow Lite for Microcontroller (TFLM) Chapter 1 å‰è¨€", " TensorFlow Lite for Microcontroller (TFLM) marconi1964@yahoo.com or marconi.jiang@gmail.com 2021-05-09 Chapter 1 å‰è¨€ è‡ªå¾ 2020 å¹´åƒåŠ äº†å°ç£äººå·¥æ™ºæ…§å­¸æ ¡çš„ç¬¬ä¸€å±† Edge AI æŠ€è¡“å°ˆç­å¾Œ, å°æ–¼ edge AI æ¯”è¼ƒæœ‰é»æ¦‚å¿µ, é‡è®€ TinyMLï¼šTensorFlow Liteæ©Ÿå™¨å­¸ç¿’ ä¸€æ›¸, æ–¼ 2021 æ˜¥ç¯€æœŸé–“æ¯”è¼ƒæœ‰ç©ºæ™‚, æ‰¾å‡ºæ‰‹ä¸Šçš„ STM32 NUCLEO_F103RB æ¿å­, ç¢ºèªç¨‹å¼çš„å¯è¡Œæ€§, åˆ†äº«åœ¨ FB çš„ Edge AI Taiwané‚Šç·£æ™ºèƒ½äº¤æµå€, æ¥è‘—å°±é–‹å§‹äº† TensorFlow Lite for Microcontroller æ›´æ·±å…¥çš„æ¢è¨, åŒæ™‚, ä¹Ÿé–‹å•Ÿäº†å° TensorFlow open source çš„å°å°è²¢ç». é™„è¨» : æœ¬æ›¸çš„ pdf ç‰ˆæœ¬ä¸‹è¼‰è¨­å®šæœ‰å•é¡Œ, ç„¡æ³•é¡¯ç¤ºä¸­æ–‡, éœ€è¦ä¿®æ”¹ bookdown è¨­å®šå§, å¾…ç ”ç©¶. "],["chap-intro.html", "Chapter 2 Introducing TFLM (TensorFlow Lite for Microcontroller)", " Chapter 2 Introducing TFLM (TensorFlow Lite for Microcontroller) Google æ¨å‡º TensorFlow æ¡†æ¶, å¯ä»¥åœ¨ CPU/GPU/TPU ä¸ŠåŸ·è¡Œ training çš„ä»»å‹™, è€ƒæ…®æ‰‹æ©Ÿä¸Šçš„ä¾·é™çš„é‹ç®—èƒ½åŠ›ä¸å¦‚ PC, æ¥è‘—æ¨å‡º Tensorflow Lite çš„æ©Ÿå™¨å­¸ç¿’æ¡†æ¶æ–¼æ‰‹æ©Ÿ, è‡³æ–¼ IoT è£ç½®ä¸Šç”¨çš„æ˜¯ ARM M ç³»åˆ—åŠå…¶å®ƒ embedded MCU (microcontrollers) çš„ç®—åŠ›ä»¥åŠä¾·é™çš„ ROM/RAM ç©ºé–“ (åƒè€ƒé™„éŒ„ A Â§Açš„é–‹ç™¼æ¿é‹ç®—èƒ½åŠ›æ¯”è¼ƒ), ä¹Ÿé‡å°é€™é¡å‹çš„é–‹ç™¼æ¿é™¸çºŒæ¨å‡ºæ”¯æ´æ©Ÿå™¨å­¸ç¿’ inference çš„ TensorFlow Lite for Microcontrollers (TFLM) æ¡†æ¶, ä¹Ÿå‡ºæ›¸æ¨å»£ TinyMLï¼šTensorFlow Lite æ©Ÿå™¨å­¸ç¿’. æˆªè‡³æœ¬æ–‡ä¸Šæ¶ï¼ˆ2021-05-09ï¼‰ç‚ºæ­¢, TFLM æ”¯æ´çš„ç¡¬é«”å·²ç¶“æœ‰ä¸‹åˆ—çš„é–‹ç™¼æ¿ (æ›¸ä¸­åªæœ‰ä»‹ç´¹å‰ä¸‰ç¨®): Arduino Nano 33 BLE Sense SparkFun Edge STM32F746 Discovery kit Adafruit EdgeBadge Adafruit TensorFlow Lite for Microcontrollers Kit Adafruit Circuit Playground Bluefruit Espressif ESP32-DevKitC Espressif ESP-EYE Wio Terminal: ATSAMD51 Himax WE-I Plus EVB Endpoint AI Development Board Synopsys DesignWare ARC EM Software Development Platform è€Œä»‹ç´¹çš„ç¯„ä¾‹å‰‡æœ‰ Hello World - ç¤ºç¯„ TensorFlow Lite for Microcontrollers çš„åŸºæœ¬åŠŸèƒ½, ç”¨æ©Ÿå™¨å­¸ç¿’çš„ inference ä¾†æ¨ç®—å‡º sine çš„å€¼ Tutorial using any supported device Micro speech - å¾éº¥å…‹é¢¨æ¥æ”¶èªéŸ³, åµæ¸¬ wake words: â€œyes,â€ â€œno,â€ â€œsilenceâ€ åŠ â€œunkownâ€ Tutorial using SparkFun Edge Magic wand - è®€å– accelerometer è³‡æ–™ä¾†åˆ¤æ–·ä¸¦å€åˆ† 3 ç¨®ä¸åŒæ‰‹å‹¢ Tutorial using Arduino Nano 33 BLE Sense Person detection - è®€å– camera çš„å½±åƒè³‡æ–™ä¾†åµæ¸¬æ˜¯å¦æœ‰äººå‡ºç¾åœ¨ç²¾é€šå‰ è€Œæˆ‘åœ¨æœ¬æ–‡ä¸Šæ¶æ™‚, å·²ç¶“å¯¦é©—éçš„æ¿å­åŠç¯„ä¾‹æœ‰, * Hello World : STM32 NUCLEO-F03RB, DISCO-F746NG, Arduino Nano 33 BLE Sense, ESP32-CAM (2021/4/5 æ–°å¢), Sipeed Maix Amigo on RISC-V RV64GC(2021/4/27 æ–°å¢, ä½†æœ‰å•é¡Œé‚„åœ¨ debug ä¸­, è¦‹ Â§5.4 ) * Micro speech : DISCO-F746NG, Arduino Nano 33 BLE Sense * Magic wand : Arduino Nano 33 BLE Sense * Person detection : ESP32-CAM (2021/4/6 æ–°å¢) ï¼ˆæœŸå¾…ä¸­: æ¨™çš„ç‰© Arduino Nano 33 BLE Senseï¼‰ å› ç‚º TensorFlow Lite Micro çš„æ ¸å¿ƒç¨‹å¼åŠ Make ç’°å¢ƒçš„é–‹ç™¼æŒçºŒé€²è¡Œä¸­, ç¨‹å¼çš„æ›´æ–°éç¨‹æœƒé€ æˆéƒ¨åˆ†ä¾†ä¸åŠæ›´æ–°çš„å…§å®¹åŠæ“ä½œç”¢ç”ŸéŒ¯èª¤, å°¤å…¶æ˜¯ STM32 ç›¸é—œçš„è¨­å®šåƒæ•¸, è‘—å¯¦èŠ±äº†ä¸€äº›æ™‚é–“, ä¸¦ä¸”ç™¼ PR åˆ° TFLM github æ›´æ–°, ESP32-CAM ä¹Ÿéœ€è¦æ³¨æ„äº›å°åœ°æ–¹. å†è€…, å¾å¯¦é©—çš„çµæœè€Œè¨€, è¾¨è­˜çš„æ•ˆæœé‚„æœ‰å¾ˆå¤§çš„æ”¹å–„ç©ºé–“, é€™å°±ç•¶ä½œä¸‹ä¸€å€‹æ¢è¨çš„é¡Œç›®å§. "],["prerequisite-.html", "Chapter 3 Prerequisite æº–å‚™å·¥ä½œ 3.1 git åŠ github ç°¡å–®æ“ä½œ 3.2 èªè­˜ make åŠç°¡å–®æ“ä½œ (mbed cli çš„æ“ä½œå¿…å‚™æŠ€èƒ½ä¹‹ä¸€) 3.3 åœ¨ Windows 10 ä¸‹å®‰è£ VMware Workstation Player åŠ Ubuntu 18.04 3.4 Arduino IDE å®‰è£ - æ–¹æ³•ä¸€: å¾ Arduino libraries å®‰è£ TensorFlowLite 3.5 Arduino IDE å®‰è£ - æ–¹æ³•äºŒ: å¾ Makefile å®‰è£ TensorFlowLite 3.6 ESP32-CAM å®‰è£ Arduino é–‹ç™¼ç’°å¢ƒ 3.7 ESP32-CAM å®‰è£ esp-idf é–‹ç™¼ç’°å¢ƒ", " Chapter 3 Prerequisite æº–å‚™å·¥ä½œ æœ¬ç« ä»‹ç´¹çš„æº–å‚™å·¥ä½œ, ä»¥ä¸åŒçš„é–‹ç™¼æ¿å€åˆ†æˆå¹¾æ®µ: Â§3.1, Â§3.2 åŠ Â§3.3 æ˜¯æº–å‚™çµ¦ STM32 DISCO F746NG (æˆ–å…¶å®ƒ STM åŠä½¿ç”¨ ARM MCU ç³»åˆ—) demo board å¦‚æœæ˜¯ Arduino Nano 33 BLE Sense, å‰‡ç›´æ¥åˆ° Â§3.4 æº–å‚™ Arduino IDE, ç›¸å°è€Œè¨€, ç°¡å–®è¨±å¤š. (2021/4/5 æ–°å¢: ç”¨ Makefile ä¾†ç”¢ç”Ÿ Arduino çš„ examples ç¨‹å¼) Â§3.6 èªªæ˜ ESP32 çš„ Arduino é–‹ç™¼ç’°å¢ƒå®‰è£ Â§3.7 èªªæ˜ ESP32 çš„ idf é–‹ç™¼ç’°å¢ƒå®‰è£ 3.1 git åŠ github ç°¡å–®æ“ä½œ $ git clone https://github.com/marconi1964/tensorflow.git $ cd tensorflow $ git pull # æ¯æ¬¡ä¿®æ”¹å‰, ä¸‹è¼‰ github æœ€æ–°çš„å…§å®¹ # æ–°å¢/ä¿®æ”¹æª”æ¡ˆå¾Œ $ git add * $ git commit -m â€œä¿®æ”¹å…§å®¹çš„è¨»é‡‹â€ $ git push origin master # æ–°çš„ github å·²ç¶“æ”¹æˆ main # æˆ–æ˜¯ç°¡å–®é» # git push git stash çš„ä½œæ³• # æœ‰æ™‚å€™, å¿˜äº† git pull å°±ä¿®æ”¹ local æª”æ¡ˆæ™‚, è·Ÿ github remote ä¸Šçš„æª”æ¡ˆæœ‰è¡çªæ™‚è©²æ€éº¼è¾¦? # ä¸éº»ç…©, git stash å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œ $ git stash # å°‡ä¿®æ”¹éçš„å…§å®¹æš«å­˜èµ·ä¾† $ git pull $ git pop # æˆ– git apply, å·®åˆ¥åœ¨æ–¼ git pop å¾Œ, æš«å­˜å…§å®¹å°±æ¶ˆå¤±, è€Œ git apply çš„æš«å­˜å…§å®¹ä¾èˆŠå­˜åœ¨ # é€™æ™‚å€™, æœƒåˆ—å‡ºå…§å®¹æœ‰è¡çªçš„æª”æ¡ˆåç¨±, å¯ä»¥ç›´æ¥ä¿®æ”¹è©²æª”æ¡ˆ(åŒæ™‚åˆ—å‡ºæœ‰è¡çªçš„å…§å®¹) # ä¿®æ”¹å¾Œ, è¨˜å¾— push å» æ›´æ–° remote å…§å®¹ $ git push # æ›´æ–°åˆ° github remote å…§å®¹ $ git stash drop # æš«å­˜å…§å®¹å·²ç„¡å¿…è¦, å¯ä»¥æ‰”äº† å¯ä»¥åƒè€ƒç¶²è·¯æ–‡ç« å°æ–¼ git åŠ github çš„æ·ºé¡¯èªªæ˜ 3.2 èªè­˜ make åŠç°¡å–®æ“ä½œ (mbed cli çš„æ“ä½œå¿…å‚™æŠ€èƒ½ä¹‹ä¸€) è¦‹åƒè€ƒæ–‡ä»¶ è·Ÿ Seisman ä¸€èµ·å†™Makefile 3.3 åœ¨ Windows 10 ä¸‹å®‰è£ VMware Workstation Player åŠ Ubuntu 18.04 æœ¬ç¯‡æ–‡ç« (åŸå…ˆæˆ‘æ’°å¯«è¼‰æ–¼github/tensorflow/lite/micro/examples/README.md)èªªæ˜å¦‚ä½•åœ¨ Windows 10 ä¸Šå®‰è£è™›æ“¬æ©Ÿå™¨, åŸ·è¡Œ Linux - Ubuntu ç³»çµ±, ä»¥ä¾¿ç·¨è­¯ TensorFlow Lite Micro åœ¨ STM32 DISCOVERY_F476NG æ¿å­ä¸ŠåŸ·è¡Œçš„æ¸¬è©¦ç¨‹å¼ 3.3.1 0. äº‹å…ˆæº–å‚™ 0.1 éœ€è¦ä¸€å€‹ email ä½å€ä½œç‚ºç¶²ç«™ä¸‹è¼‰è»Ÿé«”ä¹‹è¨»å†Šç”¨, 0.2 éœ€è¦åœ¨ github.com ä¸Šé¢é–‹å€‹å¸³è™Ÿ, å°ä»¥å¾Œçš„è»Ÿé«”é–‹ç™¼æœƒæœ‰å¹«åŠ© 3.3.2 1. ä¸‹è¼‰ Ubuntu 18.04 ISO image æª”æ¡ˆ ï¼ˆé›»è…¦éœ€è¦è‡³å°‘ 20GB ä»¥ä¸Šç¡¬ç¢Ÿç©ºé–“, é ä¼°ä¸‹è¼‰æ™‚é–“ï¼š 7 åˆ†é˜ï¼‰ https://releases.ubuntu.com/18.04/ é¸æ“‡ ubuntu-18.04.5-desktop-amd64.iso ä¸‹è¼‰, è¨˜ä½å„²å­˜ç›®éŒ„ 3.3.3 2. ä¸‹è¼‰åŠå®‰è£ VMWare Workstation Player (é ä¼°ä¸‹è¼‰æ™‚é–“ï¼š &lt; 1 åˆ†é˜ / æ“ä½œæ™‚é–“ï¼š10 åˆ†é˜) 2.1 ä¸‹è¼‰ VMWare Workstation Player å®‰è£ç¨‹å¼æª”æ¡ˆ https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html 2.2 åŸ·è¡Œ VMWare Workstation Player å®‰è£ç¨‹å¼ å®‰è£å®Œæˆå¾Œ, åŸ·è¡Œ VMware Workstation Player 2.3 Create a new virtual machine. é»é¸ â€˜Installer disc image file (iso),â€™ åˆ°å„²å­˜ ubuntu-18.04.5-desktop-amd64.iso çš„ç›®éŒ„å¾Œ, é–‹å§‹å®‰è£ *** ä»¥ä¸Š 2 å€‹å‹•ä½œåœ¨ä¸Šèª²å‰å®Œæˆ *** 3.3.4 3. å®‰è£å¥—ä»¶ä¹‹æº–å‚™å·¥ä½œ (ä»¥ä¸‹æ­¥é©Ÿ 3 - 7 ç´„éœ€æ™‚ 30 åˆ†é˜ ) é€²å…¥ Ubuntu OS å¾Œ, æ‰“é–‹ terminal æª”æ¡ˆ è¦è¨˜å¾— Ubuntu çš„å¯†ç¢¼, åŸ·è¡Œ sudo å¾Œéœ€è¦è¼¸å…¥ $ sudo apt update $ sudo apt install -y git curl mercurial python2.7 python-pip python3-pip build-essential screen # Python2 è·Ÿ Python3 éƒ½æœƒç”¨çš„åˆ°, ç”¨ä¸åŒçš„æŒ‡ä»¤ä¾†å€åˆ† : python æœƒæŒ‡å‘ Python2; python3 æœƒæŒ‡å‘ Python3 (ä¸è¦å•æˆ‘å•ç”šéº¼æœƒåŒæ™‚ç”¨åˆ° 2 å€‹ä¸åŒç‰ˆæœ¬, ä¸åŒçš„é–‹ç™¼åœ˜éšŠ, ç¿’æ…£çš„ä½œæ³•ä¸åŒ) 3.3.5 4. å®‰è£ ARM mbed-os command line ç·¨è­¯ç¨‹å¼ mbed-cli åƒè€ƒæ–‡ç«  mbed-cli installation $ pip install mbed-cli 3.3.5.1 4.1 è¨­å®š mbed ç›®éŒ„è·¯å¾‘(path) $ sudo find / -name mbed $ vi ~/.bashrc # åœ¨ .bashrc æª”æ¡ˆçš„æœ€å¾Œä¸€è¡Œ æŒ‰éµæŒ‡ä»¤ &#39;a&#39; (append) åŠ ä¸Šä»¥ä¸‹å…§å®¹, è¨˜å¾—, ä¸è¦åŠ ä¸Š /mbed export PATH=$PATH:/path/to/mbed/you/find # æˆ‘è‡ªå·±çš„ä¾‹å­æ˜¯ export PATH=$PATH:/home/ubuntu/.local/bin # çµæŸå¾Œ, æŒ‰éµ &#39;:wq!&#39; ä¾†å„²å­˜ $ source ~/.bashrc $ mbed --version # æ¸¬è©¦æ˜¯å¦æ­£ç¢ºåŸ·è¡Œ 3.3.6 5. å®‰è£ ARM GCC compiler (ç·¨è­¯å™¨) åƒè€ƒæ–‡ä»¶ GNU Arm Embedded Toolchain # ç¬¬ä¸€æ­¥: åœ¨ Ubuntu OS å…§, æ‰“é–‹ terminal ä¸¦è¼¸å…¥ $ sudo add-apt-repository ppa:team-gcc-arm-embedded/ppa # æŒ‰ &#39;enter&#39; ç¹¼çºŒ # ç¬¬ä¸€æ­¥: æ›´æ–° apt $ sudo apt update # ç¬¬ä¸‰æ­¥: å®‰è£ gcc-arm toolchain $ sudo apt install -y gcc-arm-embedded # è¨­å®š mbed ç›®éŒ„è·¯å¾‘(path) $ vi ~/.bashrc # åœ¨ .bashrc æª”æ¡ˆçš„æœ€å¾Œä¸€è¡Œ æŒ‰éµæŒ‡ä»¤ &#39;a&#39; (append) åŠ ä¸Šä»¥ä¸‹å…§å®¹ export GCC_ARM_PATH=/usr/bin/arm-none-eabi-gcc # çµæŸå¾Œ, æŒ‰éµ &#39;:wq!&#39; ä¾†å„²å­˜ $ source ~/.bashrc # å®‰è£å®Œæˆ, æ¸¬è©¦æ˜¯å¦æ­£ç¢ºåŸ·è¡Œ $ gcc --version # ç¬¬å››æ­¥: å®‰è£ Arm Compiler 5 åˆ° 64-bit Linux ç³»çµ±æ™‚, éœ€è¦å®‰è£ i386 architecture package $ sudo dpkg --add-architecture i386 $ sudo apt update $ sudo apt install -y libc6:i386 libncurses5:i386 libstdc++6:i386 3.3.7 6. ä¸‹è¼‰ TensorFlow Lite for Microcontroller (TFLM) # clone from tensorflow github $ git clone -b example --depth 1 https://github.com/marconi1964/tensorflow.git 3.3.8 7. ä¸‹è¼‰ STM32-F ç³»åˆ—å·¥å…·ç®± 7.1 æ›´æ–° STM32-F æ¿å­çš„ ST-LINK firmware åˆ°æœ€æ–°ç‰ˆ https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stsw-link007.html ST ç¶²ç«™éœ€è¦ç”¨ email ä¾†è¨»å†Šæ‰èƒ½ä¸‹è¼‰, é¸æ“‡ç‰ˆæœ¬å¾Œ, ä¸‹è¼‰ä¸¦è§£å£“ç¸®åˆ°ä½ è¨­å®šçš„ç›®éŒ„ä¸‹ # å‡è¨­ä½ è¨­å®šè§£å£“ç¸®åˆ° ~/Downloads ç›®éŒ„ä¸‹ $ cd ~/Downloads $ cd stsw-link007/AllPlatforms/StlinkRulesFilesForLinux $ sudo apt update $ sudo dpkg -i st-stlink-udev-rules-1.0.2-2-linux-all.deb 7.2 ä¸‹è¼‰ CoolTerm ç¨‹å¼ https://freeware.the-meiers.org/ ä¹Ÿå¯ä»¥ç”¨æ­¥é©Ÿ 3 å·²ç¶“å®‰è£å¥½çš„ cli æŒ‡ä»¤ screen, screen æ˜¯æ¯”è¼ƒç‚«æŠ€çš„æ–¹æ³•, CoolTerm å°ä¸ç†Ÿ Linux ç’°å¢ƒçš„äººæ¯”è¼ƒ friendly 3.3.9 8. é–‹å§‹åŸ·è¡Œ TensorFlow Lite for Microcontroller ç¨‹å¼ è¦‹ä¸‹ä¸€ç« ç¯„ä¾‹ - Hello_world 3.3.10 åƒè€ƒæ–‡ä»¶ é—œæ–¼ Make åŠ Makefile &gt; - å–æ¶ˆ TAGS ç¨‹å¼ä¸å—å½±éŸ¿ &gt; - STM32F é¸ç”¨ OPTIMIZED_KERNEL_DIR=cmsis_nn ä¾†åšæœ€ä½³åŒ– è‹±æ–‡åƒè€ƒæ–‡ç«  &gt; - mbed-cli v6.7 installation &gt; - mbed-cli v5.15 manual installation &gt; - Build Arm Cortex-M voice assistant with Google TensorFlow Lite &gt; - CMSIS - Cortex Microcontroller Software Interface Standard &gt; - STM32F10x Standard Peripherals Library Peripheralâ€™s Drivers Description &gt; - what means about â€œ-DSTM32F10X_MD -DUSE_STDPERIPH_DRIVERâ€ as the flags of arm-none-eabi-gcc? 3.4 Arduino IDE å®‰è£ - æ–¹æ³•ä¸€: å¾ Arduino libraries å®‰è£ TensorFlowLite åŠé–“è¨±å¤šçš„ Arduino æ›¸/ç¶²ç«™éƒ½æœ‰è©³ç´°çš„ Arduino IDE å®‰è£ä»‹ç´¹, ä¾‹å¦‚ å°ç£æ™ºèƒ½æ„Ÿæ¸¬ç§‘æŠ€ Arduino IDE å®‰è£, å°±ä¸åœ¨æ­¤ä½”ç”¨ç¯‡å¹…, Arduino IDE å®‰è£å®Œæˆå¾Œ, éœ€è¦åœ¨ Arduino IDE ä¸Šå®‰è£ Nano 33 BLE ç¡¬é«”è·Ÿ TensorFlow Lite çš„ç¯„ä¾‹ç¨‹å¼, ç°¡å–®èªªæ˜å¦‚ä¸‹: å°‡ Arduino Nano 33 BLE åŠ å…¥ Boards æ”¯æ´: åˆ° Arduino menu çš„ Tools - Board - Boards Manager è¼¸å…¥ Nano 33 BLE, æ‰¾åˆ°å¾Œé¸æ“‡æœ€æ–°ç‰ˆæœ¬å®‰è£ â€˜Installâ€™ åˆ° Arduino menu çš„ Tools - Manage Libraries, è¼¸å…¥ TensorFlowLite å¾Œé¸æ“‡æœ€æ–°ç‰ˆæœ¬å¾Œå®‰è£ â€˜Installâ€™ åˆ° Arduino menu çš„ File - Examples - Arduino_TensorFlowLite ä¸‹æœƒæœ‰ 4 å€‹ç¯„ä¾‹ hello_world magic_wand micro_speech person_detection é¸æ“‡æˆ‘å€‘æƒ³è¦çš„ç¯„ä¾‹ hello_world åŸ·è¡Œå³å¯. å¶çˆ¾, åœ¨ç‡’éŒ„éç¨‹, æˆ–æ˜¯ç¨‹å¼å•é¡Œ, å¯èƒ½é€ æˆç­†é›»ç„¡æ³•åµæ¸¬åˆ° Arduino Nano 33, æ‰¾ä¸åˆ° COM port, é€™æ™‚å€™, å¯ä»¥åƒè€ƒ Arduino driver å•é¡Œ çš„ #7, å¿«é€ŸæŒ‰ 2 ä¸‹ Arduino Nano 33 ä¸Šé¢çš„ RESET æŒ‰éˆ•, å¯ä»¥è®“ Nano 33 å›åˆ°ç‡’éŒ„æ¨¡å¼, å°±å¯ä»¥çœ‹åˆ° Arduino Nano 33, æ‰¾åˆ° COM port. ä¹Ÿè¨±, ç¨‹å¼ç‡’éŒ„å¾Œ, COM port ä½å€æœƒè®Š, (åƒæˆ‘å°±é‡åˆ°ç‡’éŒ„å‰çš„ COM 5, åˆ°ç‡’éŒ„å¾Œçš„ COM 6), é€™æ™‚å€™, éœ€è¦å» Arduino IDE çš„ Tool - Port é¸å–å°æ‡‰åˆ°çš„ COM port. 3.5 Arduino IDE å®‰è£ - æ–¹æ³•äºŒ: å¾ Makefile å®‰è£ TensorFlowLite åƒç…§ TinyMLï¼šTensorFlow Liteæ©Ÿå™¨å­¸ç¿’ é™„éŒ„ A ä½¿ç”¨åŠç”¢ç”Ÿ Arduino Library Zip. æ¡å–é¡ä¼¼ DISCO_F746NG ä½¿ç”¨ Makefile çš„ä½œæ³•ç”¢ç”Ÿ Arduino IDE æ‰€éœ€è¦çš„ library zip æª”æ¡ˆ tensorflow_lite.zip $ git clone --depth 1 https://github.com/tensorflow/tensorflow.git $ cd tensorflow # åŸ·è¡Œ test_arduino.sh ä¾†ç”¢ç”Ÿ .zip æª” $ tensorflow/lite/micro/tools/ci_build/test_arduino.sh # å¯ä»¥åœ¨ä»¥ä¸‹ç›®éŒ„æ‰¾åˆ° tensorflow_lite.zip $ ls tensorflow/lite/micro/tools/make/gen/arduino_x86_64_default/prj/tensorflow_lite.zip è¨˜å¾—å‰›æ‰ç”¢ç”Ÿçš„ tensorflow_lite.zip çš„ç›®éŒ„ä½ç½®, é¡ä¼¼æ–¹æ³•ä¸€çš„ä½œæ³•, ä½†æ˜¯è¦ä¿®æ”¹æ­¥é©Ÿ 2 1. å°‡ Arduino Nano 33 BLE åŠ å…¥ Boards æ”¯æ´: åˆ° Arduino menu çš„ Tools - Board - Boards Manager è¼¸å…¥ Nano 33 BLE, æ‰¾åˆ°å¾Œé¸æ“‡æœ€æ–°ç‰ˆæœ¬å®‰è£ â€˜Installâ€™ 2. åˆ° Arduino menu çš„ Tools - Manage Libraries, è¼¸å…¥ TensorFlowLite å¾Œé¸æ“‡æœ€æ–°ç‰ˆæœ¬å¾Œå®‰è£ â€˜Installâ€™ 2. åˆ° Arduino menu çš„ Sketch - Include Library - Add .ZIP Library, é¸å–å‰›æ‰ç”¢ç”Ÿçš„ tensorflow_lite.zip 3. åˆ° Arduino menu çš„ File - Examples - Arduino_TensorFlowLite ä¸‹æœƒæœ‰ 4 å€‹ç¯„ä¾‹ hello_world magic_wand micro_speech person_detection é¸æ“‡æˆ‘å€‘æƒ³è¦çš„ç¯„ä¾‹ hello_world åŸ·è¡Œå³å¯. 3.6 ESP32-CAM å®‰è£ Arduino é–‹ç™¼ç’°å¢ƒ èˆ‡ Arduino Nano 33 ä¸åŒçš„åœ°æ–¹, ESP32-CAM åœ¨é¸æ“‡ Tools - Boards ä¹‹å‰, éœ€è¦å…ˆåˆ° File - Preserence -AdditionalBoards Manager URLs: åŠ å…¥ â€œhttps://dl.espressif.com/dl/package_esp32_index.jsonâ€ å¾Œ, å†åˆ° Tools - Boards å»é¸æ“‡ ESP32-CAM. 3.7 ESP32-CAM å®‰è£ esp-idf é–‹ç™¼ç’°å¢ƒ 3.7.1 ESP32-CAM ç¡¬é«”ç°¡ä»‹ ESP32-CAM å¯ä»¥ä½¿ç”¨ Arduino IDE, ä¹Ÿå¯ä»¥ä½¿ç”¨ ESP32 å®˜æ–¹çš„é–‹ç™¼ç’°å¢ƒ esp-idf. ä»¥ä¸‹ä»‹ç´¹ esp-idf é–‹ç™¼ç’°å¢ƒçš„è¨­å®š: æœ¬æ–‡ä½¿ç”¨çš„ ESP32-CAM ä½¿ç”¨äº† 2 å€‹ç¡¬é«”ç‰ˆæœ¬, * éœ€è¦å¤–æ¥ USB-serial è½‰æ¿ : ç‡’éŒ„ ESP32-CAM ç¨‹å¼å¼, éœ€è¦å°‡ GPIO 0 æ¥åˆ° GND, è©³è¦‹ ESP32-CAM Randomnerd-tutorials * è‡ªå¸¶ CH340 çš„ ESP32-CAM : é€™ç¨®æ•´åˆå‹çš„ç¡¬é«”ç©©å®šæ€§è¼ƒä½³. ç‡’éŒ„æ™‚, åˆ‡æ›ä¸‹è¼‰æ¨¡å¼æ­¥é©Ÿ : æŒ‰ä½Flash, å†æŒ‰RST, æ”¾é–‹RST, æ”¾é–‹Flash é€™ 2 å€‹ç¡¬é«”ç‰ˆæœ¬çš„è»Ÿé«”è¨­å®šéƒ½æ˜¯é¸æ“‡ AI thinker ESP32-CAM (ä¸ç®¡æ˜¯ç”¨ Arduino IDE æˆ–æ˜¯ esp-idf) 3.7.2 esp-idf å®‰è£ç’°å¢ƒè¨­å®š åŸºæœ¬ä¸Š, ç…§è‘— Espressif ESP-IDF Programming Guide ä¸Šçš„è©³ç´°èªªæ˜, å¤§è‡´ä¸Šä¸æœƒé‡åˆ°å•é¡Œ. æˆ‘ç”¨çš„æ˜¯ command line çš„ tool chain, Toolchain to compile code for ESP32 Build tools - CMake and Ninja to build a full Application for ESP32 ESP-IDF that essentially contains API (software libraries and source code) for ESP32 and scripts to operate the Toolchain è€Œä¸æ˜¯ Eclipse æˆ– VS Code çš„ IDE Eclipse Plugin (installation link) VS Code Extension (onboarding) ç…§è‘—ç¶²é ä¸Šçš„ 10 å€‹æ­¥é©Ÿé€æ­¥å®Œæˆ, ç®—æ˜¯ç°¡å–® Step 1. Install prerequisites for Windows, Linux, or macOS Step 2. Get ESP-IDF Step 3. Set up the tools Step 4. Set up the environment variables å¯ä»¥å…ˆåŸ·è¡Œç¯„ä¾‹ç¨‹å¼, ç¢ºå®šæ²’æœ‰å•é¡Œå¾Œ, å†é€²è¡Œ TensorFlow Lite Micro çš„ç¯„ä¾‹, æ‰ä¸æœƒç³¾çµåœ¨å¾ä½•è™• debug è‘—æ‰‹çš„å•é¡Œ Step 5. Start a Project Step 6. Connect Your Device Step 7. Configure (æ³¨æ„ 1) Step 8. Build the Project Step 9. Flash onto the Device Step 10. Monitor (æ³¨æ„ 2, 3, 4) æ³¨æ„ 1 : Step 7 çš„ config ç„¡é ˆç‰¹åˆ¥è¨­å®š, çœ‹çœ‹å¾Œå°±å¯ä»¥ (Q)uit æˆ‘æ›¾ç¶“å¡åœ¨ step 9, VMware ä¸‹çš„ Ubuntu 18.04 è®“æˆ‘ç„¡æ³•é€£æ¥ä¸Š USB Serial port, çœ‹å¾—åˆ°, ä½†è®€å¯«æœ‰å•é¡Œ,Google äº†å¥½å¹¾å›, èƒ½æ‰¾åˆ°çš„ Stackoverflow æœ€ä½³è§£ é‚„æ˜¯ç„¡æ³•è§£æ±ºå·²ç¶“å°‡ user è¨­å®šæˆ dialout ç¾¤çµ„å»é‚„ç„¡æ³•è®€å¯« USB serial port çš„å•é¡Œ, åªèƒ½ç”¨æš´åŠ›çš„ chmod ä½œæ³•. $ ls -l /dev/ttyUSB* crw-rw---- 1 root dialout 188,0 Apr 5 16:41 /dev/ttyUSB0 $ sudo chmod 666 /dev/ttyUSB0 $ ls -l /dev/ttyUSB* crw-rw-rw- 1 root dialout 188,0 Apr 5 16:41 /dev/ttyUSB0 æ³¨æ„ 2 : Step 10 çš„ monitor å¯ä»¥è·Ÿ step 9 çš„æŒ‡ä»¤çµåˆå¦‚ä¸‹: $ idf.py -p PORT flash monitor # é€™è£¡çš„ PORT ç”¨ /dev/ttyUSB0 å–ä»£ æ³¨æ„ 3 : è¨˜å¾—, ç‡’éŒ„å®Œæˆå¾Œ, é›–ç„¶è»Ÿé«”æœƒè‡ªå‹•ä¸‹å€‹ soft reset, å¯æ˜¯ ESP32-CAM éƒ½æ²’æœ‰å‹•ä½œ, é‚„æ˜¯éœ€è¦æŒ‰æ¿å­ä¸Šçš„ RST éµæ‰èƒ½åŸ·è¡Œæ–°ä¸‹è¼‰çš„ç¨‹å¼. æ³¨æ„ 4 : åŸ·è¡Œ monitor ç¨‹å¼æ™‚, å¦‚æœè¦é›¢é–‹, éœ€è¦æŒ‰ â€˜Ctrlâ€™ + â€˜]â€™ çš„çµ„åˆéµ. "],["chap-hello-world-training.html", "Chapter 4 Hello_world ç¯„ä¾‹ç¨‹å¼ - è¨“ç·´ 4.1 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´ hello_world çš„æ¨¡å‹ 4.2 colab åŸ·è¡Œ training ç¨‹å¼å‰çš„æº–å‚™å·¥ä½œ 4.3 colab åŸ·è¡Œ train hello_world model.ipynb ç¨‹å¼", " Chapter 4 Hello_world ç¯„ä¾‹ç¨‹å¼ - è¨“ç·´ æœ¬ç« ç¯€å°æ‡‰åˆ° TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ çš„ç¬¬å››ç«  Hello world ç¤ºç¯„ç¨‹å¼è·Ÿä¸€èˆ¬çš„ AI æ©Ÿå™¨å­¸ç¿’/æ·±åº¦å­¸ç¿’çš„æ‡‰ç”¨ä¸€æ¨£, åˆ†æˆâ€œè¨“ç·´ (training)â€ è·Ÿ â€œæ¨è«– (inference)â€ å…©æ®µ, åƒè€ƒ AI å¤§ç¥ NVidia é—œæ–¼è¨“ç·´èˆ‡æ¨è«–çš„æ–‡ç« (è‹±æ–‡ç‰ˆ) . ç°¡å–®è€Œè¨€: è¨“ç·´å°±æ˜¯â€˜å­¸ç¿’â€™; æ¨è«–å°±æ˜¯â€˜è€ƒè©¦â€™ â€™è¨“ç·´â€™éœ€è¦å¤§é‡çš„é›»è…¦è³‡æº (CPU/GPU/NPU/memory) ã€è³‡æ–™(data) ä»¥åŠé•·æ™‚é–“çš„è¨“ç·´, å°±è·Ÿæˆ‘å€‘äººé¡å­¸ç¿’éœ€è¦å¤§é‡é–±è®€èˆ‡é•·æœŸçš„è¨˜æ†¶, è€Œè€ƒè©¦(æ¨è«–)å‰‡éœ€è¦æˆ‘å€‘çš„é¦¬ä¸Šåæ‡‰; â€™æ¨è«–â€™æ˜¯åŸºæ–¼è¨“ç·´å‡ºä¾†çš„æ¨¡å‹(å¦‚åŒæˆ‘å€‘å¤§è…¦çš„è¨˜æ†¶), ä¾†æ¨è«–å‡ºæ–°è³‡æ–™çš„å¯èƒ½ç­”æ¡ˆã€‚å› ç‚ºè¨“ç·´éœ€è¦å¤§é‡é›»è…¦è³‡æº, æˆ‘å€‘ç„¡æ³•ä½¿ç”¨é–‹ç™¼æ¿æœ‰é™çš„ MCU èƒ½åŠ›ä¾†åšè¨“ç·´, è€Œæ˜¯éœ€è¦é›»è…¦ (PC, Mac ç”šè‡³æ›´å¿«é€Ÿçš„é›²ç«¯ä¼ºæœå™¨, å¦‚ google çš„ colab) ä¾†åšè¨“ç·´ (æœ¬ç«  Â§4 çš„å…§å®¹), å†å°‡è¨“ç·´å‡ºä¾†çš„æ¨¡å‹è½‰æ›æˆé–‹ç™¼æ¿å¯ä»¥æ¥å—çš„æª”æ¡ˆæ ¼å¼, å‚³åˆ°é–‹ç™¼æ¿ä¸Šä¾†åšæ¨è«–,ä¹Ÿå°±æ˜¯ä¸‹ä¸€ç«  Â§5 çš„å…§å®¹. 4.1 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´ hello_world çš„æ¨¡å‹ åˆ° github çš„ Train a Simple TensorFlow Lite for Microcontrollers model æœƒåŒæ™‚çœ‹åˆ° â€œåœ¨ Google colab ä¸ŠåŸ·è¡Œâ€ åŠ â€œgithub åŸå§‹ç¢¼â€ çš„åœ–ç¤ºå¦‚ä¸‹, æˆ‘å€‘é»é¸ â€œåœ¨ Google colab ä¸ŠåŸ·è¡Œ,â€ å°±æœƒåœ¨ browser ä¸Šæ–°é–‹ä¸€å€‹ç•«é¢, åŸ·è¡Œ colab ä¸Šçš„ training ç¨‹å¼. 4.2 colab åŸ·è¡Œ training ç¨‹å¼å‰çš„æº–å‚™å·¥ä½œ æ©Ÿå™¨å­¸ç¿’éœ€è¦å¤§é‡çš„é‹ç®—, å°¤å…¶æ˜¯æµ®é»é‹ç®—, æ‰€ä»¥ NVidia çš„ GPU æ¯” intel çš„ CPU æ›´é©åˆåšæ©Ÿå™¨å­¸ç¿’çš„è¨“ç·´å·¥ä½œ, å¯ä»¥ç¸®çŸ­å¤§é‡çš„è¨“ç·´æ™‚é–“. Google çš„ colab æä¾›äº† 3 ç¨® runtime type çš„é¸æ“‡, åˆ°é¸å–® â€˜Runtimeâ€™ ä¸‹çš„ â€œChange runtime typeâ€ é¸æ“‡ GPU. (å¦‚æœé¸æ“‡ None, å°±æœƒä½¿ç”¨ CPU, é¸æ“‡ TPU, æœƒä½¿ç”¨ Google ç‰¹æ®Šè¨­è¨ˆçš„æ©Ÿå™¨å­¸ç¿’åŠ é€Ÿæ™¶ç‰‡, æˆªè‡³ç›®å‰ç‚ºæ­¢, GPU é‚„æ˜¯æ©Ÿå™¨å­¸ç¿’è¨“ç·´é€Ÿåº¦æœ€å¿«çš„é¸é …. åªæ˜¯, æœ¬æ¬¡è¨“ç·´çš„æ¨¡å‹ä¸å¤§, ä¸ç®¡é¸æ“‡å“ªä¸€ç¨®, æ™‚é–“éƒ½å·®ç•°ä¸å¤§) 4.3 colab åŸ·è¡Œ train hello_world model.ipynb ç¨‹å¼ åˆ°é¸å–® â€œRuntimeâ€ é¸æ“‡ â€œRun all,â€ æ•´å€‹åŸ·è¡Œéç¨‹éœ€æ™‚ 5 åˆ†é˜ä¹‹å…§. (åŒå­¸å€‘å¯ä»¥è©¦è©¦çœ‹ä¸åŒçš„ runtime type æ‰€éœ€çš„æ™‚é–“å„æ˜¯å¤šå°‘) 4.3.1 è¨“ç·´éç¨‹ä¸­, å­¸ç¿’å¦‚ä½•ä¿®æ­£åŠæ”¹å–„æ¨¡å‹, ä¸¦å°‡æ¨¡å‹è½‰æ›æˆ TFLM æ¥å—çš„æ ¼å¼ é€™è¨“ç·´æ¨¡å‹ train hello worldmode.ipynb ä»¤æˆ‘ä½©æœçš„æ˜¯, åˆ©ç”¨å¯¦ä¾‹ä¾†èªªæ˜æ©Ÿå™¨å­¸ç¿’æ¨¡å¼è¨­è¨ˆå¯èƒ½çš„å•é¡Œ, æ¨¡å‹å¤ªå°åªèƒ½æœ‰ç·šæ€§çš„è¡¨ç¾, è€Œä¸”ç”¨åœ–å½¢ä¾†é¡¯ç¤ºæ­¤çµæœ, é€²ä¸€æ­¥æ“´å……æ¨¡å‹(å¢åŠ ä¸€å±¤ç¥ç¶“ç¶²è·¯)å¾Œå¾—åˆ°æ›´ä½³çµæœ, å€¼å¾—è®€è€…ç´°ç´°ç ”è®€æœ¬æ›¸TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆçš„ç¬¬ 4 ç« , åˆ—æ–¼ Â§é™„éŒ„ C ç•¶ä½œé€²ä¸€æ­¥ç ”ç©¶çš„ä¸»é¡Œ. æœ€çµ‚è¨“ç·´çµæœæœƒé¡¯ç¤ºåœ¨æœ€å¾Œä¸€è¡Œ, å¸¶å‡º 2 å€‹åƒæ•¸, g_model_len : æ˜¯å‹æ…‹ç‚ºæ•´æ•¸(int), å…§å®¹æ˜¯æ¨¡å‹åƒæ•¸çš„å€‹æ•¸, åœ¨é€™å€‹æ¨¡å‹è£¡é¢, æœ‰ 2,488 å€‹åƒæ•¸ g_model[] : æ˜¯å‹æ…‹ç‚ºâ€™å­—å…ƒâ€™(char)çš„â€™ä¸²åˆ—â€™ (list), å…§å®¹å°±æ˜¯æ¨¡å‹çš„å…¨éƒ¨åƒæ•¸ (parameters); æ¯ä¸€å€‹åƒæ•¸ä½”ç”¨ä¸€å€‹ byte, ä¹Ÿå°±æ˜¯ 8 å€‹ bits. bit(s) è·Ÿ byte(s) æ˜¯é›»è…¦è™•ç†å™¨åŠè¨˜æ†¶é«”çš„åŸºæœ¬å–®ä½, å…¶ä¸­ 1 byte = 8 bits. åœ¨é›»è…¦å¸¸ç”¨çš„åè©è£¡, byte é‚„æ˜¯æ¯” bit å¸¸ç”¨, ä¸é, ç‚ºäº†é¿å…æ··æ·†, å¸¸ç”¨çš„è¡¨é”æ–¹å¼æ˜¯ç”¨ â€˜Bâ€™ ä¾†è¡¨ç¤º byte, ç”¨ â€˜bâ€™ ä¾†è¡¨ç¤º bit. ä¾‹å¦‚ç¾ä»Šé›»è…¦çš„æ“ä½œç³»çµ±å·²ç¶“é€²åŒ–åˆ° 64 ä½å…ƒ(bits), æ„æ€æ˜¯ CPU ä¸€æ¬¡å°±å¯ä»¥è™•ç† 64 ä½å…ƒçš„è³‡æ–™, è€Œè¨˜æ†¶é«”æ¯”è¼ƒå¸¸ç”¨ 128GB (bytes) æ–¹å¼è¡¨é”. å¦‚ç¬¬ä¸€å€‹çš„å…§å®¹ 0x1c, 0x æŒ‡çš„æ˜¯ä»¥ 16 é€²ä½(ç›¸å°æ–¼äººé¡ä½¿ç”¨çš„ 10é€²ä½) çš„æ–¹å¼è¡¨é”, åœ¨ 16 é€²ä½çš„è¡¨é”æ–¹å¼, æˆ‘å€‘ç”¨è‹±æ–‡å­—å…ƒ a - f ä¾†è¡¨é” 10 - 15 çš„æ•¸å­—. 10 é€²ä½ 16 é€²ä½ 0xé–‹é ­ 8 é€²ä½ 0oé–‹é ­ 0 0x0 0o0 1 0x1 0o1 2 0x2 0o2 3 0x3 0o3 4 0x4 0o4 5 0x5 0o5 6 0x6 0o6 7 0x7 0o7 8 0x8 0o10 9 0x9 0o11 10 0xa 0o12 11 0xb 0o13 12 0xc 0o14 13 0xd 0o15 14 0xe 0o16 15 0xf 0o17 16 0x10 0o20 17 0x11 0o21 18 0x12 0o22 19 0x13 0o23 20 0x14 0o24 21 0x15 0o25 22 0x16 0o26 23 0x17 0o27 24 0x18 0o30 25 0x19 0o31 26 0x1a 0o32 27 0x1b 0o33 28 0x1c 0o34 29 0x1d 0o35 30 0x1e 0o36 31 0x1f 0o37 32 0x20 0o40 ä¹Ÿå°±æ˜¯èªª, é€™å€‹æ¨¡å‹æœƒä½”ç”¨é–‹ç™¼æ¿ä¸Šé¢è¨˜æ†¶é«”(ROM)çš„ 2,488 ä½å…ƒçµ„(bytes), g_model_len èªªæ˜é€™å€‹æ¨¡å‹çš„åƒæ•¸å€‹æ•¸, æ¨¡å‹çš„åƒæ•¸å…§å®¹å‰‡å„²å­˜åœ¨ g_model[]. # Print the C source file !cat {MODEL_TFLITE_MICRO} unsigned char g_model[] = { 0x1c, 0x00, 0x00, 0x00, 0x54, 0x46, 0x4c, 0x33, 0x14, 0x00, 0x20, 0x00, 0x1c, 0x00, 0x18, 0x00, 0x14, 0x00, 0x10, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x08, 0x00, 0x04, 0x00, 0x14, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x98, 0x00, 0x00, 0x00, 0xc8, 0x00, 0x00, 0x00, 0x1c, 0x03, 0x00, 0x00, ... 0x0c, 0x00, 0x10, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x08, 0x00, 0x04, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09 }; unsigned int g_model_len = 2488; "],["chap-hello-world-inference.html", "Chapter 5 Hello_world ç¯„ä¾‹ç¨‹å¼ - æ¨è«– 5.1 åœ¨ STM32 DISCO_F746NG ä¸Šå¯¦ç¾ hello_world 5.2 åœ¨ Arduino Nano 33 BLE ä¸Šå¯¦ç¾ hello_world 5.3 åœ¨ ESP32-CAM ä¸Šå¯¦ç¾ hello_world 5.4 åœ¨ MaixPy Amigo (RISC-V CPU) ä¸Šå¯¦ç¾ hello_world", " Chapter 5 Hello_world ç¯„ä¾‹ç¨‹å¼ - æ¨è«– æœ¬ç« ç¯€å°æ‡‰åˆ° TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ çš„ç¬¬å…­ç« . (åŸæ›¸ç¬¬äº”ç« æ˜¯èªªæ˜ hello_world åŸå§‹ç¨‹å¼åŠæ¸¬è©¦ç¢¼, å¯ä»¥ç•¶ä½œå¾ŒçºŒçš„ç ”ç©¶åˆ†æ, åˆ—å…¥ Â§é™„éŒ„ B çš„ä¸»é¡Œ) ä¸Šä¸€ç« , æˆ‘å€‘å·²ç¶“å»ºç«‹äº†å¯ä»¥è½‰ç§»åˆ°é–‹ç™¼æ¿ä¸ŠåŸ·è¡Œçš„æ¨¡å‹, æ¨¡å‹åªæ˜¯æ©Ÿå™¨å­¸ç¿’æ‡‰ç”¨ app çš„ä¸€éƒ¨åˆ†è€Œå·², TFLM æä¾›ä¸åŒé–‹ç™¼æ¿çš„ hello_world app, éœ€è¦åœ¨ç­†é›»ä¸Šå°‡æ¨¡å‹åŠ å…¥åŸå§‹ç¨‹å¼, é‡æ–°ç·¨è­¯æˆä¸åŒé–‹ç™¼æ¿å¯ä»¥åŸ·è¡Œçš„ç¨‹å¼ç¢¼(ä¸åŒ CPU çš„ç¨‹å¼ç¢¼ç„¡æ³•è·¨å¹³å°åŸ·è¡Œ), ä¹Ÿå¯ä»¥åœ¨ PC æˆ– Mac ä¸Šæ¨¡æ“¬çµæœ. æœ¬æ–‡ä»‹ç´¹å¯ä»¥é‹ä½œ hello_world ç¤ºç¯„ç¨‹å¼çš„æœ‰ä»¥ä¸‹çš„å‰å…©ç¨® (ç¶²è·¯ä¸Šæœ‰æ›´æ–°, å¯ä»¥æ”¯æ´æ›´å¤šè¨­å‚™): Arduino Nano 33 BLE Sense ST Microelectronics STM32F746NG Discovery kit SparkFun Edge (TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ æ›¸ä¸Šæœ‰ä»‹ç´¹, ä½†æ‰‹ä¸Šæ²’æœ‰é€™å¡Šé–‹ç™¼æ¿, å°±ä¸ä»‹ç´¹äº†) 2021/4/6 æ–°å¢å¯¦é©— ESP32-CAM 2021/4/27 æ–°å¢å¯¦é©— MaixPy Amigo (RISC-V CPU) 5.1 åœ¨ STM32 DISCO_F746NG ä¸Šå¯¦ç¾ hello_world 5.1.1 (ç„¡ç—›åŸ·è¡Œ)åœ¨ç­†é›»ä¸Šç·¨è­¯ç¨‹å¼, ä¸¦ä¸‹è¼‰è‡³ STM32 DISCO_F746NG å› ç‚º TensorFlow Lite Micro çš„é–‹ç™¼æŒçºŒåœ¨é€²è¡Œ, éƒ¨ä»½æ–‡ä»¶ä¸¦æ²’æœ‰éš¨è‘—é–‹ç™¼é€²åº¦è€Œæ›´æ–°, å¦‚æœç…§è‘— github ä¸ŠåŸ·è¡Œæœƒç”¢ç”Ÿä¸€äº›éŒ¯èª¤, è€Œä¸”, åœ¨ç·¨è­¯ (make) ä¹‹å‰, éœ€è¦å°‡ STM32 DISCO_F746NG ç›¸é—œæª”æ¡ˆè¤‡è£½åˆ°ä¸»ç¨‹å¼ç›®éŒ„ä¸‹, å› æ­¤, æˆ‘åœ¨ github å‰µå»ºäº†ä¸€å€‹ branch, é‡å° DISCO_F746NG çš„é–‹ç™¼æ¿åšäº†æª”æ¡ˆå®‰æ’åŠè¨­å®šèª¿æ•´, å¯ä»¥ç›´æ¥ç·¨è­¯, ä¸¦ä¸‹è¼‰åˆ° DISCO_F746NG é–‹ç™¼æ¿ä¸ŠåŸ·è¡Œ. åƒè€ƒæˆ‘çš„ TFLM github - hello_worldç„¡ç—›åŸ·è¡Œ åœ¨ä¸‹ä¸€ç¯€èªªæ˜å¦‚æœå¾ TFLM github å®˜ç¶²ä¸‹è¼‰å…§å®¹æ™‚, éœ€è¦åšçš„ä¿®æ”¹. 5.1.2 (å¾®ç—›åŸ·è¡Œ)åœ¨ç­†é›»ä¸Šç·¨è­¯ç¨‹å¼, ä¸¦ä¸‹è¼‰è‡³ STM32 DISCO_F746NG æ­¤ç¯€ä¹ƒé‡å°å·²ç¶“ç†Ÿæ‚‰ä¸Šä¸€ç¯€çš„å…§å®¹, é †åˆ©åŸ·è¡Œå¾Œ, é€²ä¸€æ­¥å¾ TFLM github å®˜ç¶²ä¸‹è¼‰, å¾—è‡ªè¡Œä¿®æ”¹éƒ¨ä»½å…§å®¹æ–¹èƒ½é †åˆ©åŸ·è¡Œç„¡èª¤. å‹•æ‰‹ä¿®æ”¹å…§å®¹ éœ€è¦ä¿®æ”¹çš„å…§å®¹æœ‰ 1. æ”¹å¾ https://github.com/tensorflow å®˜ç¶²ä¸‹è¼‰ 2. å°‡ tensorflow/lite/micro/examples/hello_world/disco_f746ng/ é€™ç›®éŒ„æ”¹åæˆç‚º tensorflow/lite/micro/examples/hello_world/mbed/ å…¶é¤˜å¾ make ä»¥å¾Œçš„æ“ä½œç¶­æŒè·ŸåŸå…ˆå…§å®¹ä¸è®Š 5.1.2.1 æ”¹å¾ https://github.com/tensorflow å®˜ç¶²ä¸‹è¼‰ # å¾æˆ‘çš„ github $ git clone -b example --depth 1 https://github.com/marconi1964/tensorflow.git # æ”¹åˆ°ç”¨ Tensorflow å®˜ç¶²çš„ github $ git clone --depth 1 https://github.com/marconi1964/tensorflow.git # æˆ–æ˜¯ $ git clone --depth 1 https://github.com/tensorflow/tensorflow.git $ cd tensorflow 5.1.2.2 å°‡ tensorflow/lite/micro/examples/hello_world/disco_f746ng/ é€™ç›®éŒ„æ”¹åæˆç‚º tensorflow/lite/micro/examples/hello_world/mbed/ DISCO_F746NG çš„é©…å‹•ç¨‹å¼ (constant.cc èˆ‡ output_handler.cc) è·Ÿæ¨™æº–çš„ç¤ºç¯„ç¨‹å¼ä¸åŒ, éœ€è¦è®“ make æŠŠ F746NG çš„é©…å‹•ç¨‹å¼åŒ…å«åœ¨ä¸»ç¨‹å¼æ‰èƒ½åœ¨é–‹ç™¼æ¿ä¸ŠåŸ·è¡Œ, é€™éƒ¨åˆ†å·²ç¶“åœ¨ Makefile å®Œæˆ, åªæ˜¯ç›®å‰ Makefile çš„å¯«æ³•æ˜¯æ“·å– TARGET=mbed ä¸­çš„ â€˜mbed,â€™ å†åˆ° hello_world ç›®éŒ„ä¸‹å°‹æ‰¾ â€˜mbedâ€™ å­ç›®éŒ„ (é€™éƒ¨åˆ†çš„ç¨‹å¼è¨­å®šæœ‰å•é¡Œ, å·²ç¶“åœ¨ TensorFlow github ä¸Šç™¼ issue), è€Œ mbed å­ç›®éŒ„æ˜¯ä¸å­˜åœ¨, ä¸” Makefile ä¸æœƒå»å°‹æ‰¾ disco_f746ng å­ç›®éŒ„. # æ¥çºŒä¸Šä¸€å€‹å‹•ä½œ, å·²ç¶“åœ¨ tensorflow ç›®éŒ„ä¸‹, åˆ‡æ›åˆ° hello_world ç¤ºç¯„ç¨‹å¼ç›®éŒ„ $ cd tensorflow/lite/micro/examples/hello_world/ $ mv disco_f746ng mbed # å®Œæˆå¾Œ, å›åˆ° tensorflow ä¸»ç›®éŒ„ä¸‹ $ cd ~/tensorflow (ä»¥ä¸Šçš„å‹•ä½œ, çœ‹èµ·ä¾†å¾ˆç°¡å–®, å»æ˜¯æˆ‘èŠ±æœ€å¤šæ™‚é–“çš„åœ°æ–¹, éœ€è¦å»äº†è§£ Makefile åŠå±¤å±¤ç–ŠåŠ ä¸Šçš„ Makefile.inc å’Œ *_makefile.inc çš„è¤‡é›œæ¶æ§‹.) ç¹¼çºŒåŸ·è¡Œ make ä»¥åŠå¾ŒçºŒçš„å‹•ä½œ $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=mbed ALL_TAGS=disco_f746ng generate_hello_world_mbed_project $ cd tensorflow/lite/micro/tools/make/gen/mbed_cortex-m4_default/prj/hello_world/mbed $ mbed config root . $ mbed deploy $ mbed compile -m DISCO_F746NG -t GCC_ARM 5.1.2.3 å°‡ make å¾Œçš„ mbed.bin ä¸Šå‚³åˆ° DISCO_F746NG é–‹ç™¼æ¿ 5.1.3 (ç—›è‹¦çš„ debugéç¨‹) DISCO_F746NG åŸ·è¡Œ hello_world ç•¶æ©Ÿ ç¬¬ä¸€æ¬¡åŸ·è¡Œæ™‚, é‚„ä¾†ä¸åŠæ²’æœ‰æ‰“é–‹ screen æ¥æ”¶ debug è¨Šæ¯, å°±ä¸€é¡†çƒåœ¨ä¸Šæ–¹å®šä½, æ‡·ç–‘æˆ‘çš„æ“ä½œ/æ“å®ˆæœ‰å•é¡Œâ€¦ æ‰“é–‹ screen, å‡ºç¾ ** Error message ** x_value: 1.0*2^-127, y_value: 1.0*2^-127 x_value: 1.4361557*2^-4, y_value: 1.7621826*2^-4 x_value: 1.4361557*2^-3, y_value: 1.8977352*2^-3 x_value: 1.0771168*2^-2, y_value: 1.389413*2^-2 x_value: 1.4361557*2^-2, y_value: 1.5588537*2^-2 x_value: 1.7951952*2^-2, y_value: 1.7960706*2^-2 x_value: 1.0771168*2^-1, y_value: 1.965511*2^-2 x_value: 1.2566366*2^-1, y_value: 1.1183078*2^-1 x_value: 1.4361557*2^-1, y_value: 1.3724688*2^-1 x_value: 1.6156756*2^-1, y_value: 1.4910772*2^-1 x_value: 1.7951952*2^-1, y_value: 1.6605182*2^-1 x_value: 1.9747147*2^-1, y_value: 1.7791265*2^-1 x_value: 1.0771168*2^0, y_value: 1.7791265*2^-1 x_value: 1.1668766*2^0, y_value: 1.8977352*2^-1 x_value: 1.2566366*2^0, y_value: 1.9316229*2^-1 x_value: 1.3463962*2^0, y_value: 1.965511*2^-1 x_value: 1.4361557*2^0, y_value: 1.0166438*2^0 ++ MbedOS Fault Handler ++ FaultType: HardFault Context: R0: 7C R1: 8 R2: FFDB4437 R3: 1 R4: 20002D58 R5: 34 R6: A R7: FFDB4437 R8: 0 R9: 72 R10: 8 R11: 68 R12: 34 SP : 2004FF8C LR : 800051B PC : 8000472 xPSR : 1000200 PSP : 0 MSP : 2004FF20 CPUID: 410FC271 HFSR : 40000000 MMFSR: 0 BFSR : 4 UFSR : 0 DFSR : 9 AFSR : 0 Mode : Thread Priv : Privileged Stack: MSP -- MbedOS Fault Handler -- ++ MbedOS Error Info ++ Error Status: 0x80FF013D Code: 317 Module: 255 Error Message: Fault exception Location: 0x8000472 Error Value: 0x20002E34 For more info, visit: https://mbed.com/s/error?error=0x80FF013D&amp;tgt=DISCO_F746NG -- MbedOS Error Info -- æŸ¥çœ‹ https://mbed.com/s/error?error=0x80FF013D&amp;tgt=DISCO_F746NG è¼¸å…¥éŒ¯èª¤ç¢¼ (error code) 0x80FF013D å¾Œæœƒç”¢ç”Ÿä»¥ä¸‹è¨Šæ¯ Error Decoder 0x80FF013D Type: System Module Unknown module Error Code HardFault exception Cortex-M HardFault exception has occurred. Please see https://os.mbed.com/docs/latest/tutorials/analyzing-mbed-os-crash-dump.html for more info. é€²ä¸€æ­¥æŸ¥çœ‹ https://os.mbed.com/docs/latest/tutorials/analyzing-mbed-os-crash-dump.html The following Cortex-M fault exceptions trigger the Mbed OS fault exception handler. MemManage Exception - Memory accesses that violate the setup in the MPU and certain illegal memory accesses trigger memory management faults. BusFault Exception - When an error response is received during a transfer on the AHB interfaces, it produces bus faults. UsageFault Exception - Division by zero, unaligned accesses and trying to execute coprocessor instructions can cause usage faults. HardFault Exception - Triggered on all fault conditions or if the corresponding fault handler (one of the above) is not enabled. çŒœå¯èƒ½æ˜¯è¨˜æ†¶é«”å•é¡Œ, å†çœ‹ä¸€ä¸‹è¢å¹•ç•¶æ©Ÿæ™‚, çƒæ˜¯åœ¨è¢å¹•çš„æœ€ä¸Šæ–¹, æ˜¯å¦æ˜¯è¶…éè¢å¹•çš„ç¯„åœè€Œé€ æˆéŒ¯èª¤, çœ‹ä¸€ä¸‹åŸå§‹æª”æ¡ˆ output_handler.cc è·Ÿ error message å¯èƒ½æ˜¯æœ‰è¡çªçš„. # error message x_value: 1.4361557*2^0, y_value: 1.0166438*2^0 # output_handler.cc y_pos = dot_radius + static_cast&lt;int&gt;(midpoint * (1.f - y_value)); # åŸå§‹ç¨‹å¼æœƒæœ‰å•é¡Œ y_pos = dot_radius + static_cast&lt;int&gt;(midpoint * (1.1f - y_value)); # å°èª¿æ•´å¾Œå³å¯æ­£å¸¸é‹ä½œ 5.2 åœ¨ Arduino Nano 33 BLE ä¸Šå¯¦ç¾ hello_world åœ¨ Â§3.4 Arduino IDE å®‰è£å¾Œ, å°‡ Arduino Nano 33 BLE æ¥ä¸Šé›»è…¦çš„ USB, é€²å…¥ Arduino IDE çš„ Tools - Boards åŠ Port ç¢ºå®šå·²ç¶“å®‰è£å®Œæˆ, å†åˆ° File - Examples æ‰¾åˆ° Arduino_TensorFlowLite ä¸‹æœƒæœ‰ 4 å€‹ç¯„ä¾‹ hello_world magic_wand micro_speech person_detection é¸æ“‡æˆ‘å€‘æƒ³è¦çš„ç¯„ä¾‹ hello_world åŸ·è¡Œå³å¯. åŸ·è¡Œä¸­, å¯ä»¥æ‰“é–‹ Arduino IDE menu * Tool - Serial Monitor : çœ‹åˆ° Nano 33 å›é¥‹çš„é æ¸¬ Xã€Y å€¼ * Tool - Serial Plotter : çœ‹åˆ° Nano 33 å›é¥‹çš„é æ¸¬ Xã€Y å€¼å±•é–‹çš„åœ–å½¢ åŒæ™‚, Nano 33 çš„ç‡ˆè™Ÿä¹Ÿæœƒéš¨è‘—è¾¨è­˜çµæœ, é€æ¼¸è®Šäº®åˆ°ç†„æ»…å†è®Šäº® 5.3 åœ¨ ESP32-CAM ä¸Šå¯¦ç¾ hello_world é€™è£¡ä¸èªªæ˜ Arduino çš„ä½œæ³•(ä½œæ³•æ›´ Arduino Nano 33 å¤§åŒå°ç•°), åƒ…å°± esp-idf æ–¹æ³•åšèªªæ˜ åœ¨ Â§3.7 esp-idf å®‰è£ä¸”æ¸¬è©¦å®Œ ESP32 çš„ hello world å¾Œ, ç¾åœ¨æ¸¬è©¦çš„æ˜¯ TensorFlow Lite Micro çš„ hello_world. é¡ä¼¼ STM32 DISCO_F746NG çš„ Makefile çš„ä½œæ³• åœ¨ idf.py build é€™æ­¥é©Ÿå‡ºç¾éŒ¯èª¤ $ git clone https://github.com/tensorflow/tensorflow.git $ cd tensorflow $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project $ cd tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf $ idf.py build -- Configuring done CMake Error at /home/rafael/esp/esp-idf/tools/cmake/project.cmake:461 (target_link_libraries): Error evaluating generator expression: $&lt;IN_LIST:-DTF_LITE_STATIC_MEMORY,$&lt;TARGET_PROPERTY:__idf_tfmicro,COMPILE_OPTIONS&gt;&gt; Expression did not evaluate to a known generator expression Call Stack (most recent call first): CMakeLists.txt:3 (project) CMake Error in main/CMakeLists.txt: Error evaluating generator expression: $&lt;IN_LIST:-DTF_LITE_STATIC_MEMORY,$&lt;TARGET_PROPERTY:__idf_tfmicro,COMPILE_OPTIONS&gt;&gt; Expression did not evaluate to a known generator expression -- Generating done -- Build files have been written to: /home/rafael/tensorflow/tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/build cmake failed with exit code 1 Google å¾Œç™¼ç¾ ESP32 Hello World project crashing in the target èªªæ˜ cmake çš„ compile option éœ€è¦ 3.11 ç‰ˆæœ¬ä»¥ä¸Š, æŸ¥äº†æˆ‘çš„ cmake ç‰ˆæœ¬æ˜¯ 3.10.2, æ‰€ä»¥éœ€è¦å‡ç´š $ cmake --version cmake version 3.10.2 cmake å‡ç´šä½œæ³• # å¾ https://cmake.org/download/ ä¸‹è¼‰ tar file, åˆ°ä¸‹è¼‰ tar file çš„ç›®éŒ„ä¸‹åŸ·è¡Œ: $ cd $CMAKE_DOWNLOAD_PATH $ ./configure $ make $ sudo make install å†åŸ·è¡Œ idf, å¯ä»¥çµæŸå¾é–‹ç™¼æ¿å‚³å›ä¾†çš„ X è·Ÿ Y çš„å€¼ $ idf.py build $ idf.py -p PORT flash monitor æé†’ : åŸ·è¡Œ monitor ç¨‹å¼æ™‚, å¦‚æœè¦é›¢é–‹, éœ€è¦æŒ‰ â€˜Ctrlâ€™ + â€˜]â€™ çš„çµ„åˆéµ. 5.4 åœ¨ MaixPy Amigo (RISC-V CPU) ä¸Šå¯¦ç¾ hello_world 5.4.1 å»ºç«‹ MaixPy tool chains ï¸æ³¨æ„ æˆªæ­¢ç›®å‰ç‚ºæ­¢, é‚„æœ‰å•é¡Œ, è«‹ä¸è¦è¼•æ˜“å˜—è©¦, æ­¡è¿æå‡ºæ”¹å–„å»ºè­° ç…§è‘— Build Maixpy from source code æ­¥é©ŸåŸ·è¡Œ 5.4.1.1 Get source code # Clone by https link $ git clone https://github.com/sipeed/maixpy.git # Then get submodules $ cd maixpy $ git submodule update --init 5.4.1.2 Install dependencies $ sudo apt update $ sudo apt install python3 python3-pip build-essential cmake $ cd maixpy # if you ever change directory $ pip3 install -r requirements.txt 5.4.1.3 Download toolchain Download the latest toolchain from here (macOS and linux), or kendryte-toolchain-ubuntu-amd64-8.2.0-20190409.tar.xz(CDN) (for linux) And extract to /opt/kendryte-toolchain/ $ cd ~ $ wget http://dl.cdn.sipeed.com/kendryte-toolchain-ubuntu-amd64-8.2.0-20190409.tar.xz $ sudo tar -Jxvf kendryte-toolchain-ubuntu-amd64-8.2.0-20190409.tar.xz -C /opt $ ls /opt/kendryte-toolchain/bin 5.4.1.4 Configure project 5.4.1.4.1 åˆ‡æ›åˆ° projects/hello_world ç›®éŒ„æˆ– projects/maixpy_k210, å¿…é ˆéµå¾ªå®ƒçš„ç›®éŒ„çµæ§‹æ‰å¯ä»¥é †åˆ©åŸ·è¡Œ, åƒç…§ Reference æ–‡ç« èªªæ˜. $ cd maixpy $ cd projects/hello_world # æˆ– $ cd maixpy $ cd projects/maixpy_k210 # æˆ‘çš„ä½œæ³•æ˜¯è¤‡è£½ hello_world åˆ°æ–°çš„ç›®éŒ„ amigo_tflm $ cd maixpy $ cp -r projects/hello_world/ projects/amigo_tflm/ $ cd projects/amigo_tflm 5.4.1.4.2 Configure project Usually, just use the default configuration. If you want to customsize project modules, execute command: python3 project.py menuconfig æ¥ä¸‹ä¾†, åœ¨ build ä¹‹å‰, æˆ‘å€‘å…ˆä¸‹è¼‰ tensorflow lite micro ç¨‹å¼ 5.4.2 ä¸‹è¼‰ TensorFlow lite micro, åŸ·è¡Œ make ä¾†ç”¢ç”Ÿ source code 5.4.2.1 é¡ä¼¼ DISCO_F746NG çš„ä½œæ³•ä¸‹è¼‰åŠåŸ·è¡Œ make $ git clone https://github.com/tensorflow/tensorflow.git $ cd tensorflow # ä¿®æ”¹ tensorflow å‘½å riscv32_mcu èˆ‡ riscv_mcu / mcu_riscv ä¸ä¸€è‡´è™• $ mv tensorflow/lite/micro/tools/make/targets/mcu_riscv_makefile.inc \\ tensorflow/lite/micro/tools/make/targets/riscv32_mcu_makefile.inc $ mv tensorflow/lite/micro/riscv_mcu/ tensorflow/lite/micro/riscv32_mcu/ $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=riscv32_mcu generate_hello_world_make_project # source code ä½æ–¼ tensorflow/micro/tools/make/gen/riscv32_mcu_riscv32_mcu_micro/prj/hello_world/make/ $ cd tensorflow/micro/tools/make/gen/riscv32_mcu_riscv32_mcu_micro/prj/hello_world/make/ $ ls LICENSE Makefile README_MAKE.md tensorflow third_party # å¯ä»¥å…ˆçœ‹ Makefile çš„å…§å®¹ # SRCS := \\ # tensorflow/lite/micro/simple_memory_allocator.cc ....... # éœ€è¦å°‡é€™éƒ¨åˆ†çš„ SRCS å…§å®¹è¤‡è£½åˆ° MaixPy çš„ maixpy/projects/amigo_tflm/main/CMakeList.txt çš„ Add source files ä¸‹ # å†åº¦çœ‹äº†å…¨éƒ¨æª”æ¡ˆ, ç™¼ç¾ä¸¦æ²’æœ‰ hello_world çš„ç¨‹å¼åˆ—è¡¨ ğŸ˜„ é‚„æœ‰ä¸€æ®µè·¯è¦èµ° 5.4.3 å°‡ tensforflow çš„ source code æª”æ¡ˆæ•´ç†æˆ MaixiPy tool chain çš„æª”æ¡ˆæ¶æ§‹ ç›®å‰çš„æ¢ç´¢éœ€è¦æ‰‹å‹•æ•´ç†è¨±å¤šæª”æ¡ˆ, è€Œä¸”ç›®å‰ç‚ºæ­¢é‚„æœ‰éŒ¯èª¤, é‚„ä¸ç¢ºå®šå“ªè£¡éœ€è¦ä¿®æ­£ 5.4.3.1 è¤‡è£½ Tensorflow åŸå§‹ç¢¼åˆ° MaixPy åŸå§‹æª”ç›®éŒ„ $ cd ~/tensorflow $ cp -r tensorflow/micro/tools/make/gen/riscv32_mcu_riscv32_mcu_micro/prj/hello_world/make/ \\ ~/maixpy/projects/amigo_tflm $ cd ~/maixpy/projects/amigo_tflm 5.4.3.2 ä¿®æ”¹ MaixPy build çš„ç›¸é—œè¨­å®š ä¿®æ”¹ CMakeList.txt çš„ C/C++ åŸå§‹ç¨‹å¼ç¢¼æª”æ¡ˆè¨­å®š ä¿®æ”¹ ~/maixpy/projects/amigo_tflm/main/CMakeLists.txt æª”æ¡ˆå…§å®¹ # å°‡ç›®å‰ç›®éŒ„ . è¨­æˆ include ç›®éŒ„ ############## Add include ################### list(APPEND ADD_INCLUDE &quot;.&quot; ) # list(APPEND ADD_PRIVATE_INCLUDE &quot;&quot;) ############################################### # å°‡ä¸Šä¸€å€‹å‹•ä½œçš„çµæœç”¢ç”Ÿçš„ ensorflow/micro/tools/make/gen/riscv32_mcu_riscv32_mcu_micro/prj/hello_world/make/Makefile å…§å®¹ # SRCS := \\ # tensorflow/lite/micro/simple_memory_allocator.cc ....... # çš„æ‰€æœ‰ .cc æª”æ¡ˆåç¨±è¤‡è£½è²¼ä¸Š, ç”¨é›™å¼•è™Ÿéš”é–‹ ############## Add source files ################### list(APPEND ADD_SRCS &quot;tensorflow/lite/micro/simple_memory_allocator.c&quot; ..... ) ############################################### ä¿®æ”¹ çš„ C/C++ ç·¨è­¯è¨­å®š ä¿®æ”¹ ~/maixpy/projects/amigo_tflm/compile/compile_flags.cmake # åŸå…ˆè¨­å®š set(CMAKE_CXX_FLAGS -mcmodel=medany ... -std=gnu11 # å°‡ -std=gnu11 æ”¹æˆ -std=c++11 set(CMAKE_CXX_FLAGS -mcmodel=medany ... -std=c++11 å‡ºç¾ error References: Sipeed MaixPy å®˜ç¶² Sipeed MaixPy æ–‡ä»¶èªªæ˜ Build Maixpy from source code Simple and configurable C/C++ project/SDK template - CMake "],["chap-micro-speech-inference.html", "Chapter 6 Micro_speech ç¯„ä¾‹ç¨‹å¼-å–šé†’è©åµæ¸¬ï¼šå»ºæ§‹ app 6.1 åœ¨ STM32 DISCO_F746NG ä¸Šå¯¦ç¾ micro_speech 6.2 åœ¨ Arduino Nano 33 BLE ä¸Šå¯¦ç¾ micro_speech", " Chapter 6 Micro_speech ç¯„ä¾‹ç¨‹å¼-å–šé†’è©åµæ¸¬ï¼šå»ºæ§‹ app æœ¬ç« ç¯€å°æ‡‰åˆ° TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ çš„ç¬¬ä¸ƒç« , ä½©æœä½œè€…åœ¨æ©Ÿå™¨å­¸ç¿’åŠŸåŠ›çš„æ·±åš, åœ¨é€™ä¸€ç« è£¡, ä¹Ÿä»‹ç´¹äº†æ©Ÿå™¨å­¸ç¿’ app çš„æ¨¡å‹æ¡†æ¶, ä»¥åŠèªéŸ³æ¨£æœ¬è³‡æ–™ - è²è­œ (spectrogram) - çš„ç°¡ä»‹. æˆ‘æœƒå†å¾ŒçºŒè£œå……æ–¼ Â§é™„éŒ„ D éŸ³é »è²è­œçš„èªªæ˜èˆ‡æ¨¡å‹åˆ†æ. å†èªªä¸€æ¬¡: è¨“ç·´å°±æ˜¯â€˜å­¸ç¿’â€™; æ¨è«–å°±æ˜¯â€˜è€ƒè©¦â€™ é€™å€‹ç¯„ä¾‹, ä½œè€…å…ˆå¾ inference - å–šé†’è©åµæ¸¬çš„æ§‹å»º app é–‹å§‹, è¨“ç·´æ¨¡å‹ç•™å¾…ä¸‹ä¸€ç«  (ç¬¬ Â§7 ç« ) ä»‹ç´¹. æœ¬æ–‡ä»‹ç´¹å¯ä»¥é‹ä½œ micro_speech ç¤ºç¯„ç¨‹å¼çš„æœ‰ä»¥ä¸‹çš„å‰å…©ç¨® (ç¶²è·¯ä¸Šæœ‰æ›´æ–°, å¯ä»¥æ”¯æ´æ›´å¤šè¨­å‚™): Arduino Nano 33 BLE Sense ST Microelectronics STM32F746NG Discovery kit SparkFun Edge (TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ æ›¸ä¸Šæœ‰ä»‹ç´¹, ä½†æ‰‹ä¸Šæ²’æœ‰é€™å¡Šé–‹ç™¼æ¿, å°±ä¸ä»‹ç´¹äº†) 6.1 åœ¨ STM32 DISCO_F746NG ä¸Šå¯¦ç¾ micro_speech 6.1.1 (ç„¡ç—›åŸ·è¡Œ)åœ¨ç­†é›»ä¸Šç·¨è­¯ç¨‹å¼, ä¸¦ä¸‹è¼‰è‡³ STM32 DISCO_F746NG å› ç‚º TensorFlow Lite Micro çš„é–‹ç™¼æŒçºŒåœ¨é€²è¡Œ, éƒ¨ä»½æ–‡ä»¶ä¸¦æ²’æœ‰éš¨è‘—é–‹ç™¼é€²åº¦è€Œæ›´æ–°, å¦‚æœç…§è‘— github ä¸ŠåŸ·è¡Œæœƒç”¢ç”Ÿä¸€äº›éŒ¯èª¤, è€Œä¸”, åœ¨ç·¨è­¯ (make) ä¹‹å‰, éœ€è¦å°‡ STM32 DISCO_F746NG ç›¸é—œæª”æ¡ˆè¤‡è£½åˆ°ä¸»ç¨‹å¼ç›®éŒ„ä¸‹, å› æ­¤, æˆ‘åœ¨ github å‰µå»ºäº†ä¸€å€‹ branch, é‡å° DISCO_F746NG çš„é–‹ç™¼æ¿åšäº†æª”æ¡ˆå®‰æ’åŠè¨­å®šèª¿æ•´, å¯ä»¥ç›´æ¥ç·¨è­¯, ä¸¦ä¸‹è¼‰åˆ° DISCO_F746NG é–‹ç™¼æ¿ä¸ŠåŸ·è¡Œ. åƒè€ƒæˆ‘çš„ TFLM github - micro_speechç„¡ç—›åŸ·è¡Œ åœ¨ä¸‹ä¸€ç¯€èªªæ˜å¦‚æœå¾ TFLM github å®˜ç¶²ä¸‹è¼‰å…§å®¹æ™‚, éœ€è¦åšçš„ä¿®æ”¹. 6.1.2 (å¾®ç—›åŸ·è¡Œ)åœ¨ç­†é›»ä¸Šç·¨è­¯ç¨‹å¼, ä¸¦ä¸‹è¼‰è‡³ STM32 DISCO_F746NG æ­¤ç¯€ä¹ƒé‡å°å·²ç¶“ç†Ÿæ‚‰ä¸Šä¸€ç¯€çš„å…§å®¹, é †åˆ©åŸ·è¡Œå¾Œ, é€²ä¸€æ­¥å¾ TFLM github å®˜ç¶²ä¸‹è¼‰, å¾—è‡ªè¡Œä¿®æ”¹éƒ¨ä»½å…§å®¹æ–¹èƒ½é †åˆ©åŸ·è¡Œç„¡èª¤. å‹•æ‰‹ä¿®æ”¹å…§å®¹ éœ€è¦ä¿®æ”¹çš„å…§å®¹æœ‰ 1. æ”¹å¾ https://github.com/tensorflow å®˜ç¶²ä¸‹è¼‰ 2. å°‡ tensorflow/lite/micro/examples/micro_speech/disco_f746ng/ é€™ç›®éŒ„æ”¹åæˆç‚º tensorflow/lite/micro/examples/micro_speech/mbed/ å…¶é¤˜å¾ make ä»¥å¾Œçš„æ“ä½œç¶­æŒè·ŸåŸå…ˆå…§å®¹ä¸è®Š 6.1.2.1 æ”¹å¾ https://github.com/tensorflow å®˜ç¶²ä¸‹è¼‰ # å¾æˆ‘çš„ github $ git clone -b example --depth 1 https://github.com/marconi1964/tensorflow.git # æ”¹åˆ°ç”¨ Tensorflow å®˜ç¶²çš„ github $ git clone --depth 1 https://github.com/marconi1964/tensorflow.git # æˆ–æ˜¯ $ git clone --depth 1 https://github.com/tensorflow/tensorflow.git $ cd tensorflow 6.1.2.2 å°‡ tensorflow/lite/micro/examples/micro_speech/disco_f746ng/ é€™ç›®éŒ„æ”¹åæˆç‚º tensorflow/lite/micro/examples/micro_speech/mbed/ DISCO_F746NG çš„é©…å‹•ç¨‹å¼ (audio_provider.cc èˆ‡ command_responder.cc) è·Ÿæ¨™æº–çš„ç¤ºç¯„ç¨‹å¼ä¸åŒ, éœ€è¦è®“ make æŠŠ F746NG çš„é©…å‹•ç¨‹å¼åŒ…å«åœ¨ä¸»ç¨‹å¼æ‰èƒ½åœ¨é–‹ç™¼æ¿ä¸ŠåŸ·è¡Œ, é€™éƒ¨åˆ†å·²ç¶“åœ¨ Makefile å®Œæˆ, åªæ˜¯ç›®å‰ Makefile çš„å¯«æ³•æ˜¯æ“·å– TARGET=mbed ä¸­çš„ â€˜mbed,â€™ å†åˆ° micro_speech ç›®éŒ„ä¸‹å°‹æ‰¾ â€˜mbedâ€™ å­ç›®éŒ„, è€Œä¸æ˜¯å°‹æ‰¾ disco_f746ng å­ç›®éŒ„, ä¸” mbed å­ç›®éŒ„æ˜¯ä¸å­˜åœ¨çš„, é€™æ˜¯å•é¡Œæ‰€åœ¨, å› æ­¤éœ€è¦åšä»¥ä¸‹èª¿æ•´. # æ¥çºŒä¸Šä¸€å€‹å‹•ä½œ, å·²ç¶“åœ¨ tensorflow ç›®éŒ„ä¸‹, åˆ‡æ›åˆ° micro_speech ç¤ºç¯„ç¨‹å¼ç›®éŒ„ $ cd tensorflow/lite/micro/examples/micro_speech/ $ mv disco_f746ng mbed # å®Œæˆå¾Œ, å›åˆ° tensorflow ä¸»ç›®éŒ„ä¸‹ $ cd ~/tensorflow (ä»¥ä¸Šçš„å‹•ä½œ, çœ‹èµ·ä¾†å¾ˆç°¡å–®, å»æ˜¯æˆ‘èŠ±æœ€å¤šæ™‚é–“çš„åœ°æ–¹, éœ€è¦å»äº†è§£ Makefile åŠå±¤å±¤ç–ŠåŠ ä¸Šçš„ Makefile.inc å’Œ *_makefile.inc çš„è¤‡é›œæ¶æ§‹.) ç¹¼çºŒåŸ·è¡Œ make ä»¥åŠå¾ŒçºŒçš„å‹•ä½œ $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=mbed ALL_TAGS=disco_f746ng generate_micro_speech_mbed_project $ cd tensorflow/lite/micro/tools/make/gen/mbed_cortex-m4_default/prj/micro_speech/mbed $ mbed config root . $ mbed deploy $ mbed compile -m DISCO_F746NG -t GCC_ARM åŸ·è¡Œå¾Œ, å¯ä»¥æ‰“é–‹ screen æˆ– Coolterminal ä¾†ç›£çœ‹ DISCO_F746NG åµæ¸¬ â€˜yes,â€™ â€˜no,â€™ â€˜unknown,â€™ æˆ– â€˜silenceâ€™ çš„é æ¸¬çµæœå„æ˜¯å¦‚ä½•. æ­¤è™•çš„æ¨¡å‹å¾ˆå°, ä¹Ÿä¸å®Œç¾, ä½ æœƒç™¼ç¾å®ƒæ¯”è¼ƒæ“…é•·åµæ¸¬ â€˜yes,â€™ è™•ç† â€˜noâ€™ çš„æ•ˆæœè¼ƒå·®, å¾é€™å€‹ä¾‹å­å¯ä»¥çœ‹åˆ°å°å‹æ¨¡å‹çš„å¤§å°é€²è¡Œå„ªåŒ–å°‡å°è‡´æº–ç¢ºæ€§ä¸‹é™, å°‡åœ¨ä¸‹ä¸€å€‹ç« ç¯€ (ç¬¬ Â§7 ç« ) é€²ä¸€æ­¥è¨è«–é€™ä¸»é¡Œ 6.2 åœ¨ Arduino Nano 33 BLE ä¸Šå¯¦ç¾ micro_speech åœ¨ Â§3.4 Arduino IDE å®‰è£å¾Œ, å°‡ Arduino Nano 33 BLE æ¥ä¸Šé›»è…¦çš„ USB, é€²å…¥ Arduino IDE çš„ Tools - Boards åŠ Port ç¢ºå®šå·²ç¶“å®‰è£å®Œæˆ, å†åˆ° File - Examples æ‰¾åˆ° Arduino_TensorFlowLite ä¸‹æœƒæœ‰ 4 å€‹ç¯„ä¾‹ hello_world magic_wand micro_speech person_detection é¸æ“‡æˆ‘å€‘æƒ³è¦çš„ç¯„ä¾‹ micro_speech. æ‰“é–‹å¾Œ, IDE ç’°å¢ƒæœƒåŒæ™‚å±•é–‹å¥½å¹¾å€‹ç¨‹å¼, æ‰¾åˆ° model.cpp æª”æ¡ˆ, ç”¨ colab è¨“ç·´å®Œæˆçš„ g_model[ ] å…§å®¹ä¾†å–ä»£ç¾æœ‰ model.cpp å…§çš„ g_model[ ], å³å¯æŒ‰ç…§ä¸€èˆ¬ Arduino çš„ç¨‹å¼èˆ¬ä¸‹è¼‰åˆ° Nano 33 BLE å¾ŒåŸ·è¡Œ. åŸ·è¡Œä¸­, å¯ä»¥æ‰“é–‹ Arduino IDE menu * Tool - Serial Monitor : çœ‹åˆ° Nano 33 å›é¥‹çš„é æ¸¬æ˜¯ â€˜yes,â€™ â€˜no,â€™ â€˜unknown,â€™ æˆ– â€˜silenceâ€™ åŒæ™‚, Nano 33 çš„ç‡ˆè™Ÿé¡è‰²ä¹Ÿæœƒéš¨è‘—è¾¨è­˜çµæœä¹Ÿä¸åŒ yes: ç¶ ç‡ˆ no: ç´…ç‡ˆ unknown: è—ç‡ˆ silence: (ä¸äº®ç‡ˆ) æ­¤è™•çš„æ¨¡å‹å¾ˆå°, ä¹Ÿä¸å®Œç¾, ä½ æœƒç™¼ç¾å®ƒæ¯”è¼ƒæ“…é•·åµæ¸¬ â€˜yes,â€™ è™•ç† â€˜noâ€™ çš„æ•ˆæœè¼ƒå·®, å¾é€™å€‹ä¾‹å­å¯ä»¥çœ‹åˆ°å°å‹æ¨¡å‹çš„å¤§å°é€²è¡Œå„ªåŒ–å°‡å°è‡´æº–ç¢ºæ€§ä¸‹é™, å°‡åœ¨ä¸‹ä¸€å€‹ç« ç¯€ (ç¬¬ Â§7 ç« ) é€²ä¸€æ­¥è¨è«–é€™ä¸»é¡Œ "],["chap-micro-speech-training.html", "Chapter 7 Micro_speech ç¯„ä¾‹ç¨‹å¼-å–šé†’è©åµæ¸¬ï¼šè¨“ç·´æ¨¡å‹ 7.1 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´ micro_speech çš„æ¨¡å‹ (åŸå§‹ç¨‹å¼åŠè¨­å®š) 7.2 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´å®¢è£½åŒ– micro_speech çš„æ¨¡å‹", " Chapter 7 Micro_speech ç¯„ä¾‹ç¨‹å¼-å–šé†’è©åµæ¸¬ï¼šè¨“ç·´æ¨¡å‹ æœ¬ç« ç¯€å°æ‡‰åˆ° TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ çš„ç¬¬å…«ç« , åœ¨é€™ä¸€ç« è£¡, ä¹Ÿä»‹ç´¹äº† TensorBoard ä¾†ç›£çœ‹è¨“ç·´éç¨‹, å¯ä»¥é€²ä¸€æ­¥äº†è§£å¯è¦–åŒ–æ©Ÿå™¨å­¸ç¿’. æœ¬ç« æœ€å¾Œä¸€å°éƒ¨åˆ†, ä¹Ÿå†èªªæ˜èªéŸ³ç‰¹å¾µç”Ÿç”¢çš„ç¨‹åº, é€™éƒ¨åˆ†, æˆ‘æœ‰æ©Ÿæœƒå†æ–¼ Â§é™„éŒ„ D éŸ³é »è²è­œçš„èªªæ˜èˆ‡æ¨¡å‹åˆ†æèªªæ˜. é¡ä¼¼ hello_world çš„ç¯„ä¾‹ç¨‹å¼çš„æ¨¡å‹è¨“ç·´æ˜¯æ–¼ Google colab ä¸ŠåŸ·è¡Œ, æ­¤ micro_speech ç¯„ä¾‹ä¹Ÿæ˜¯åœ¨ colab ä¸ŠåŸ·è¡Œå¦ä¸€å€‹æ¨¡å‹è¨“ç·´ç¨‹å¼, æˆ‘å€‘å…ˆä¸åšä»»ä½•çš„ä¿®æ”¹, æ–¼ä¸‹ä¸€æ®µçš„ colab è¨“ç·´å®¢è£½åŒ–å¯ä»¥ä¿®æ”¹åŸå§‹è¾¨è­˜ â€˜yesâ€™ èˆ‡ â€˜noâ€™ çš„æ¨¡å‹, æ”¹ç‚ºè¾¨è­˜å…¶å®ƒå–šé†’è©. 7.1 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´ micro_speech çš„æ¨¡å‹ (åŸå§‹ç¨‹å¼åŠè¨­å®š) åˆ° github çš„ Train a Simple TensorFlow Lite for Microcontrollers model æœƒåŒæ™‚çœ‹åˆ° â€œåœ¨ Google colab ä¸ŠåŸ·è¡Œâ€ åŠ â€œgithub åŸå§‹ç¢¼â€ çš„åœ–ç¤ºå¦‚ä¸‹, æˆ‘å€‘é»é¸ â€œåœ¨ Google colab ä¸ŠåŸ·è¡Œ,â€ å°±æœƒåœ¨ browser ä¸Šæ–°é–‹ä¸€å€‹ç•«é¢, åŸ·è¡Œ colab ä¸Šçš„ training ç¨‹å¼. 7.1.1 colab åŸ·è¡Œ training ç¨‹å¼å‰çš„æº–å‚™å·¥ä½œ æ©Ÿå™¨å­¸ç¿’éœ€è¦å¤§é‡çš„é‹ç®—, å°¤å…¶æ˜¯æµ®é»é‹ç®—, æ‰€ä»¥ NVidia çš„ GPU æ¯” intel çš„ CPU æ›´é©åˆåšæ©Ÿå™¨å­¸ç¿’çš„è¨“ç·´å·¥ä½œ, å¯ä»¥ç¸®çŸ­å¤§é‡çš„è¨“ç·´æ™‚é–“. Google çš„ colab æä¾›äº† 3 ç¨® runtime type çš„é¸æ“‡, åˆ°é¸å–® â€˜Runtimeâ€™ ä¸‹çš„ â€œChange runtime typeâ€ é¸æ“‡ GPU. (å¦‚æœé¸æ“‡ None, å°±æœƒä½¿ç”¨ CPU, é¸æ“‡ TPU, æœƒä½¿ç”¨ Google ç‰¹æ®Šè¨­è¨ˆçš„æ©Ÿå™¨å­¸ç¿’åŠ é€Ÿæ™¶ç‰‡, æˆªè‡³ç›®å‰ç‚ºæ­¢, GPU é‚„æ˜¯æ©Ÿå™¨å­¸ç¿’è¨“ç·´é€Ÿåº¦æœ€å¿«çš„é¸é …. åªæ˜¯, æœ¬æ¬¡è¨“ç·´çš„æ¨¡å‹ä¸å¤§, ä¸ç®¡é¸æ“‡å“ªä¸€ç¨®, æ™‚é–“éƒ½å·®ç•°ä¸å¤§) 7.1.2 colab åŸ·è¡Œ train micro_speech model.ipynb ç¨‹å¼ åˆ°é¸å–® â€œRuntimeâ€ é¸æ“‡ â€œRun all,â€ æ•´å€‹åŸ·è¡Œéç¨‹æ‰€éœ€æ™‚é–“æ¯” hello_world çš„è¨“ç·´é•·å‡ºè¨±å¤š, æˆ‘æ›¾ç¶“æœ‰è·‘é 4 å€‹å°æ™‚ä»¥ä¸Š (å¯èƒ½æ˜¯æˆ‘åŒæ™‚åœ¨ colab æœ‰è·‘å…¶å®ƒæ‡‰ç”¨æœ‰é—œ, åŒå­¸å€‘å¯ä»¥è©¦è©¦çœ‹ä¸åŒçš„ runtime type æ‰€éœ€çš„æ™‚é–“å„æ˜¯å¤šå°‘), åŸå§‹ç¨‹å¼ä¹Ÿæä¾›ä¸€å€‹ç¸®çŸ­è¨“ç·´æ™‚é–“çš„æ–¹å¼, æŠŠä¸‹é¢æœ€åº•ä¸‹ 2 è¡Œçš„æŒ‡ä»¤ # æ‹¿æ‰ (!curl è·Ÿ !tar é–‹é ­é‚£ 2 è¡Œ) , ç›´æ¥ä¸‹è¼‰å·²ç¶“è¨“ç·´å¥½çš„æ¨¡å‹, æˆ‘åœ¨é€™æ¨£æ¢ä»¶ä¸‹åŸ·è¡Œçš„æ™‚é–“ç´„ç‚º 3.5 å€‹å°æ™‚. Skipping the training If you don&#39;t want to spend an hour or two training the model from scratch, you can download pretrained checkpoints by uncommenting the lines below (removing the &#39;#&#39;s at the start of each line) and running them. #!curl -O &quot;https://storage.googleapis.com/download.tensorflow.org/models/tflite/speech_micro_train_2020_05_10.tgz&quot; #!tar xzf speech_micro_train_2020_05_10.tgz 7.1.3 å°‡æ¨¡å‹ä¸Šå‚³è‡³é–‹ç™¼æ¿ é¡ä¼¼ hello_world çš„ä½œæ³•, å°‡ colab è¨“ç·´çµæœè¤‡è£½è²¼ä¸Šåˆ°é–‹ç™¼æ¿çš„ app, æˆ‘å€‘å›åˆ°é–‹ç™¼ç’°å¢ƒ, éœ€è¦æ³¨æ„ 3 å€‹åœ°æ–¹ æ›´æ›æ¨¡å‹ - è¤‡è£½è²¼ä¸Šåˆ° model.cc ç¢ºèª micro_model_settings.cc ç¢ºèª command_responder.cc 7.1.3.1 æ›´æ›æ¨¡å‹ - å°‡ colab è¨“ç·´çµæœçš„ g_model[ ] å…§å®¹è¤‡è£½è²¼ä¸Šåˆ° model.cc colab è¨“ç·´æœ€å¾Œä¸€è¡Œçš„ g_model[ ] çš„å…§å®¹ (æ›¸ä¸Šå¯«çš„ g_tiny_conv_micro_features_model_data[ ] è³‡æ–™å¤ªèˆŠ, å·²ç¶“æ›´æ–°ç‚º g_model[ ]), è¤‡è£½è²¼ä¸Šåˆ° , tensorflow/lite/micro/examples/micro_speech/micro_features/model.cc å…§å®¹çš„ g_model[ ]. ä¸¦ç¢ºèª g_model_len = 18712 çš„æ•¸å­—éƒ¨ä»½èˆ‡ colab çš„ g_model_len ä¸€è‡´, å¦‚æœ‰ä¸åŒ, æ¡ç”¨ colab çš„æ•¸å­—. !cat {MODEL_TFLITE_MICRO} const unsigned char g_model[] DATA_ALIGN_ATTRIBUTE = { 0x20, 0x00, 0x00, 0x00, 0x54, 0x46, 0x4c, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x12, 0x00, 0x1c, 0x00, 0x04, 0x00, 0x08, 0x00, 0x0c, 0x00, 0x10, 0x00, 0x14, 0x00, 0x00, 0x00, 0x18, 0x00, 0x12, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x94, 0x48, 0x00, 0x00, 0x34, 0x42, 0x00, 0x00, 0x1c, 0x42, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, ...... 0x06, 0x00, 0x00, 0x00, 0x00, 0x16, 0x0a, 0x00, 0x0e, 0x00, 0x07, 0x00, 0x00, 0x00, 0x08, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x0c, 0x00, 0x07, 0x00, 0x00, 0x00, 0x08, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x03, 0x00, 0x00, 0x00}; const int g_model_len = 18712; 7.1.3.2 ç¢ºèª micro_model_settings.cc æ‰“é–‹ examples/micro_speech/micro_features/micro_model_settings.cc, é€™å€‹æª”æ¡ˆæœ‰é—œé¡åˆ¥æ¨™ç±¤é™£åˆ—, ç¢ºå®šè·Ÿ colab è£¡é¢çš„æ˜¯ä¸€è‡´çš„. const char* kCategoryLabels[kCategoryCount] = { &quot;silence&quot;, &quot;unknown&quot;, &quot;yes&quot;, &quot;no&quot;, }; 7.1.3.3 ç¢ºèª command-responder.cc - ä»¥ DISCO_F746NG ç‚ºä¾‹ DISCO_F746NG æŒ‡ä»¤å›æ‡‰å™¨æª”æ¡ˆä½æ–¼ examples/micro_speech/disco_f746ng/command_responder.cc, å®ƒæœƒæ ¹æ“šè½åˆ°çš„æŒ‡ä»¤ä¾†é¡¯ç¤ºä¸åŒçš„å–®å­—, åœ¨æª”æ¡ˆè£¡é¢å¯ä»¥æ‰¾åˆ°é€™å€‹ if é™³è¿°å¼: if (*found_command == &#39;y&#39;) { lcd.Clear(0xFF0F9D58); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard yes!&quot;, CENTER_MODE); } else if (*found_command == &#39;n&#39;) { lcd.Clear(0xFFDB4437); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard no&quot;, CENTER_MODE); } else if (*found_command == &#39;u&#39;) { lcd.Clear(0xFFF4B400); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard unknown&quot;, CENTER_MODE); } else { lcd.Clear(0xFF4285F4); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard silence&quot;, CENTER_MODE); } 7.1.4 æ¥çºŒåŸ·è¡Œ make åŠç¨‹å¼ä¸Šå‚³ æ¥ä¸‹å»å†å›é ­åŸ·è¡Œä¸Šä¸€ç« ä»‹ç´¹çš„æ¨è«–éƒ¨ä»½çš„å‹•ä½œ Â§6.1.2.2 ä¿®æ”¹ disco_f746ng ç›®éŒ„ç¹¼çºŒåŸ·è¡Œ. 7.2 åœ¨ Google colab ä¸Šå»ºç«‹åŠè¨“ç·´å®¢è£½åŒ– micro_speech çš„æ¨¡å‹ æˆ‘å€‘æ¥ä¸‹ä¾†é€²è¡Œçš„å®¢è£½åŒ–çš„éç¨‹, å¯ä»¥è®“ä½ é¸æ“‡çš„é–‹ç™¼æ¿, ä¸åƒ…æ˜¯è¾¨è­˜æ­¤ç¯„ä¾‹ä¸­çš„ â€˜yesâ€™ èˆ‡ â€˜no,â€™ è€Œæ˜¯æœ‰å…¶å®ƒé¸æ“‡, ç”šè‡³è¶…é 2 å€‹ä»¥ä¸Šçš„å–®å­—ç•¶ä½œå–šé†’è©è¾¨è­˜. å› ç‚ºç¯„ä¾‹ä¸­çš„æ¨¡å‹è¨­è¨ˆ, å¯ä»¥é¸å–çš„å–®å­—æœ‰ä¸‹åˆ—, æˆ‘å€‘æœƒé¸ç”¨ â€˜onâ€™ èˆ‡ â€˜offâ€™ ç•¶ä½œæ­¤æ¬¡çš„ç¯„ä¾‹. å¸¸è¦‹æŒ‡ä»¤: yes, no, up, down, left, right, on, off, stop, go backward, foward, follow, learn 0 - 9 æ•¸å­—: zero, one, two, three, four, five, six, seven, eight, nine éš¨æ©Ÿå–®å­—: bed, bird, cat, dog, happy, house, Marvin, Sheila, tree, wow éœ€è¦ä¿®æ”¹çš„æœ‰ 4 å€‹éƒ¨ä»½, 1 å€‹åœ¨ colab è¨“ç·´ç¨‹å¼, 3 å€‹åœ¨é–‹ç™¼æ¿é–‹ç™¼ç’°å¢ƒçš„ç¨‹å¼å…§å®¹ ä¿®æ”¹ colab è¨“ç·´ç¨‹å¼ æ›´æ›æ¨¡å‹ ä¿®æ”¹ micro_model_settings.cc ä¿®æ”¹ command_responder.cc (ï¸ æ³¨æ„: å¦‚æœæ˜¯é¸ç”¨å…¶å®ƒé–‹ç™¼æ¿, å¦‚ DISCO_F746NG æ™‚, Makefile æœƒé¸ç”¨å…¶å®ƒç›®éŒ„ä¸‹çš„ /micro_speech/disco_f746ng/command_responder.cc, é€™æ™‚å€™éœ€è¦ä¿®æ”¹çš„æª”æ¡ˆå°±æ˜¯ disco_f746ng ç›®éŒ„ä¸‹çš„) 7.2.1 ä¿®æ”¹ colab è¨“ç·´ç¨‹å¼ åˆ° Google colab çš„ train_micro_speech_model.ipynb ä¸‹å°‹æ‰¾ WANTED_WORDS, å¯ä»¥çœ‹åˆ°ä¸‹é¢é€™è¡Œ WANTED_WORDS = &quot;yes,no&quot; æˆ‘å€‘æ¥ä¸‹ä¾†çš„ç·´ç¿’ç”¨ â€˜on,â€™ â€˜offâ€™ ä¾†å–ä»£ WANTED_WORDS = &quot;on, off&quot; åˆ°é¸å–® â€œRuntimeâ€ é¸æ“‡ â€œRun allâ€ 7.2.2 æ›´æ›æ¨¡å‹ - å°‡ colab è¨“ç·´çµæœçš„ g_model[ ] å…§å®¹è¤‡è£½è²¼ä¸Šåˆ° model.cc ç­‰ colab è¨“ç·´å®Œæˆå¾Œ, å°‡æœ€å¾Œä¸€è¡Œçš„ g_model[ ] çš„å…§å®¹ (æ›¸ä¸Šå¯«çš„ g_tiny_conv_micro_features_model_data[ ] è³‡æ–™å¤ªèˆŠ, å·²ç¶“æ›´æ–°ç‚º g_model[ ]), è¤‡è£½è²¼ä¸Šåˆ° , tensorflow/lite/micro/examples/micro_speech/micro_features/model.cc å…§å®¹çš„ g_model[ ]. ä¸¦ç¢ºèª g_model_len = 18712 çš„æ•¸å­—éƒ¨ä»½èˆ‡ colab çš„ g_model_len ä¸€è‡´, å¦‚æœ‰ä¸åŒ, æ¡ç”¨ colab çš„æ•¸å­—. !cat {MODEL_TFLITE_MICRO} const unsigned char g_model[] DATA_ALIGN_ATTRIBUTE = { 0x20, 0x00, 0x00, 0x00, 0x54, 0x46, 0x4c, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x12, 0x00, 0x1c, 0x00, 0x04, 0x00, 0x08, 0x00, 0x0c, 0x00, 0x10, 0x00, 0x14, 0x00, 0x00, 0x00, 0x18, 0x00, 0x12, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x94, 0x48, 0x00, 0x00, 0x34, 0x42, 0x00, 0x00, 0x1c, 0x42, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, ...... 0x06, 0x00, 0x00, 0x00, 0x00, 0x16, 0x0a, 0x00, 0x0e, 0x00, 0x07, 0x00, 0x00, 0x00, 0x08, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x0c, 0x00, 0x07, 0x00, 0x00, 0x00, 0x08, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x03, 0x00, 0x00, 0x00}; const int g_model_len = 18712; 7.2.3 ä¿®æ”¹ micro_model_settings.cc æ‰“é–‹ tensorflow/lite/micro/examples/micro_speech/micro_features/micro_model_settings.cc, é€™å€‹æª”æ¡ˆæœ‰é—œé¡åˆ¥æ¨™ç±¤é™£åˆ—ï¼š const char* kCategoryLabels[kCategoryCount] = { &quot;silence&quot;, &quot;unknown&quot;, &quot;yes&quot;, &quot;no&quot;, }; æˆ‘å€‘ç‚ºæ–°æ¨¡å‹é€²è¡Œèª¿æ•´, å°‡ â€˜yesâ€™ èˆ‡ â€˜noâ€™ æ›æˆ â€˜onâ€™ èˆ‡ â€˜off,â€™ æˆ‘å€‘è®“æ¨™ç±¤çš„é †åºèˆ‡æ¨¡å‹è¼¸å‡ºå¼µé‡ (tensor) çš„å…ƒç´ é †åºä¸€æ¨£, è®“å®ƒå€‘çš„é †åºèˆ‡è¨“ç·´è…³æœ¬è£¡é¢çš„ç›¸åŒéå¸¸é‡è¦. (å¦‚æœç”¨ä¾†è¨“ç·´æ¨¡å‹çš„æ¨™ç±¤è¶…é 2 å€‹, åªè¦å°‡å®ƒå€‘éƒ½åŠ å…¥é€™å€‹ä¸²åˆ—å³å¯) const char* kCategoryLabels[kCategoryCount] = { &quot;silence&quot;, &quot;unknown&quot;, &quot;on&quot;, &quot;off&quot;, }; 7.2.4 ä¿®æ”¹ command_responder.cc æœ€å¾Œä¸€å€‹æ­¥é©Ÿæ˜¯ä¿®æ”¹ä½¿ç”¨é€™äº›æ¨™ç±¤çš„è¼¸å‡ºç¨‹å¼ç¢¼, æˆ‘å€‘ä»¥ STM32 DISCO_F746NG ç‚ºä¾‹. STM32 DISCO_F746NG æŒ‡ä»¤å›æ‡‰å™¨ä½æ–¼ examples/micro_speech/disco_f746ng/command_responder.cc, å®ƒæœƒæ ¹æ“šè½åˆ°çš„æŒ‡ä»¤ä¾†é¡¯ç¤ºä¸åŒçš„å–®å­—, åœ¨ command_responder.cc è£¡é¢æ‰¾åˆ°ä»¥ä¸‹é€™å€‹ if é™³è¿°å¼: if (*found_command == &#39;y&#39;) { lcd.Clear(0xFF0F9D58); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard yes!&quot;, CENTER_MODE); } else if (*found_command == &#39;n&#39;) { lcd.Clear(0xFFDB4437); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard no&quot;, CENTER_MODE); } else if (*found_command == &#39;u&#39;) { lcd.Clear(0xFFF4B400); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard unknown&quot;, CENTER_MODE); } else { lcd.Clear(0xFF4285F4); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard silence&quot;, CENTER_MODE); } å°‡å®ƒæ”¹æˆå›æ‡‰ â€˜onâ€™ èˆ‡ â€˜offâ€™ ä¸ç®—å¤ªé›£, åªæ˜¯ä¹‹å‰åªè¦åˆ¤æ–·ç¬¬ä¸€å€‹å­—æ¯çš„å·®ç•° (*found_command ä¾†å€åˆ† yes ç¬¬ä¸€å€‹å­—æ¯çš„ â€˜yâ€™ èˆ‡ no çš„ â€˜nâ€™), ç¾åœ¨å¿…é ˆç”¨ 2 å€‹å­—æ¯ä¾†å€åˆ¥ (found_command[0] èˆ‡ found_command[1] ä¾†å€åˆ† on çš„ â€˜onâ€™ èˆ‡ off çš„ â€˜ofâ€™) if (found_command[0] == &#39;o&#39; &amp;&amp; found_command[1] == &#39;n&#39;) { lcd.Clear(0xFF0F9D58); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard on!&quot;, CENTER_MODE); } else if (found_command[0] == &#39;o&#39; &amp;&amp; found_command[1] == &#39;f&#39;) { lcd.Clear(0xFFDB4437); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard off&quot;, CENTER_MODE); } else if (*found_command == &#39;u&#39;) { lcd.Clear(0xFFF4B400); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard unknown&quot;, CENTER_MODE); } else { lcd.Clear(0xFF4285F4); lcd.DisplayStringAt(0, LINE(5), (uint8_t*)&quot;Heard silence&quot;, CENTER_MODE); } 7.2.5 æ¥çºŒåŸ·è¡Œ make åŠç¨‹å¼ä¸Šå‚³ æ¥ä¸‹å»å†å›é ­åŸ·è¡Œä¸Šä¸€ç« ä»‹ç´¹çš„æ¨è«–éƒ¨ä»½çš„å‹•ä½œ Â§6.1.2.2 ä¿®æ”¹ disco_f746ng ç›®éŒ„ç¹¼çºŒåŸ·è¡Œ. "],["references.html", "References", " References åƒè€ƒè³‡æ–™ 1. https://alison.rbind.io/post/new-year-new-blogdown/ 2. https://bookdown.org/yihui/blogdown/installation.html Lithium ç›¸é—œä¸»é¡Œ 3. Yihui Hugo Lithium 4. Jrutheiser Hugo Lithium ## æ‡‰è©²æ˜¯ Lithium åŸå§‹å‡ºè™• 5. janikvonrotz Hugo Lithium 6. Hugo Lithium å®˜ç¶² Hugodown ç›¸é—œç¶²é  7. r-lib/hugodown github å®˜ç¶² Bookdown ç›¸é—œç¶²é  8. R èªè¨€æ•™å­¸ - é€™ç¯‡æ–‡ç« å¹«æˆ‘å®Œæˆäº†ç”¨ bookdown ç·¨è¼¯ .md (å¯¦éš›ä¸Šæ˜¯ .rmd ä½†æ˜¯ç›¡é‡åªç”¨åˆ° .md çš„åŠŸèƒ½) çš„æ–‡ç« æ ¼å¼, ç„¶å¾Œå¯ä»¥å¿«é€Ÿ deploy åˆ° github.io çš„ç†æƒ³, è«‹çœ‹ 23 ç«  "],["chap-magic-wand.html", "Chapter 8 Magic_wand ç¯„ä¾‹ç¨‹å¼", " Chapter 8 Magic_wand ç¯„ä¾‹ç¨‹å¼ "],["chap-person-detection.html", "Chapter 9 Person_detection ç¯„ä¾‹ç¨‹å¼ 9.1 ESP32-CAM æ–¼ esp-idf é–‹ç™¼ç’°å¢ƒ 9.2 ESP32-CAM æ–¼ Arduino é–‹ç™¼ç’°å¢ƒ", " Chapter 9 Person_detection ç¯„ä¾‹ç¨‹å¼ æœ¬ç¯„ä¾‹ä½¿ç”¨ Espressif çš„ ESP32-CAM é–‹ç™¼æ¿ä¾†æ“ä½œäººåƒè¾¨è­˜åŠŸèƒ½ esp-idf é–‹ç™¼ç’°å¢ƒ Arduino é–‹ç™¼ç’°å¢ƒ 9.1 ESP32-CAM æ–¼ esp-idf é–‹ç™¼ç’°å¢ƒ åœ¨ Â§3.7 esp-idf å®‰è£ ESP32-CAM é–‹ç™¼ç’°å¢ƒå¾Œ, é€²ä¸€æ­¥æ¸¬è©¦äººç‰©è¾¨è­˜ç¨‹å¼ person_detection $ git clone https://github.com/tensorflow/tensorflow.git $ cd tensorflow $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_person_detection_esp_project å‡ºç¾ github å·²ç¶“åœ¨è¨è«–çš„ ESP32-CAM person_detectin problem, æˆ‘è©¦éå¾Œ, åŠ å…¥æˆ‘çš„å¯è¡Œä½œæ³• $ git clone --depth 1 https://github.com/tensorflow/tensorflow.git $ cd tensorflow/ $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_person_detection_esp_project # error occurs, same as yours, I believe. # ä¸‹è¼‰ https://patch-diff.githubusercontent.com/raw/tensorflow/tensorflow/pull/47063.patch # æˆ–æ˜¯ git cherry-pick 6d69beaf73fa2488f830a7fb7ed4ef931b44ce1d $ ls 47063.patch # to make sure patch is downloaded $ git apply ./47063.patch $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_person_detection_esp_project # it generate another error below and stop. make: *** No rule to make target &#39;tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32_default/prj/person_detection/esp-idf/main/person_model_int8/person_detect_model_data.cc&#39;, needed by &#39;generate_person_detection_esp_project&#39;. Stop. $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_person_detection_esp_int8_project # this command generate another error of below, but it seems fix the previous error. make: *** No rule to make target &#39;generate_person_detection_esp_int8_project&#39;. Stop. $ make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_person_detection_esp_project # so we re-do the generate_person_detection_esp_project again, it works and no error. æ¥ä¸‹ä¾†, åŸ·è¡Œ esp-idf æŒ‡ä»¤ $ cd tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/person_detection/esp-idf $ idf.py build $ idf.py -p PORT flash monitor é€™æ™‚å€™, ESP32-CAM çš„åŸ·è¡Œçµæœå‚³å›é›»è…¦çš„ä»¥ä¸‹çš„éŒ¯èª¤è¨Šæ¯ rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT) configsip: 0, SPIWP:0xee clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00 mode:DIO, clock div:1 load:0x3fff0018,len:4 load:0x3fff001c,len:1216 ho 0 tail 12 room 4 load:0x40078000,len:9720 ho 0 tail 12 room 4 load:0x40080400,len:6352 entry 0x400806b8 [E][camera.c:1049] camera_probe(): Detected camera not supported. [E][camera.c:1249] esp_camera_init(): Camera probe failed with error 0x20004 Camera init failed InitCamera failed Image capture failed æ‰¾åˆ° esp-32 Camera probe failed with error 0x20004 æ–‡ç« æåˆ° 2 å€‹å¯èƒ½ ESP32-CAM å¾ 3.3V æ”¹æˆ 5V å°‡ç¨‹å¼åŸå§‹è¨­å®šçš„é è¨­çš„é–‹ç™¼æ¿ WROVER-KIT With OV2640 Module æ”¹æˆ CAMERA_MODEL_AI_THINKER, éœ€è¦ä¿®æ”¹ 2 å€‹æª”æ¡ˆ examples/person_detection/esp/app_camera_esp.h ä¼¼ä¹æ˜¯éœ€è¦åœ¨ menuconfig ä¸­åšè¨­å®š, å°‡ CONFIG_CAMERA_MODEL_AI_THINKER è¨­æˆ TRUE examples/person_detection/esp/main/Kconfig.projbuild ç¬¬ 17 è¡Œ #if CONFIG_CAMERA_MODEL_WROVER_KIT #define PWDN_GPIO_NUM -1 #define RESET_GPIO_NUM -1 ..... skipped ...... #elif CONFIG_CAMERA_MODEL_AI_THINKER #define PWDN_GPIO_NUM 32 #define RESET_GPIO_NUM -1 # ä¿®æ”¹ examples/person_detection/esp/main/Kconfig.projbuild ç¬¬ 17 è¡Œ default CAMERA_MODEL_WROVER_KIT # line 17 # æ”¹æˆ default ESP32-CAM by AI-Thinker Arduino: ä¸‹é¢çš„ç¯„ä¾‹, éœ€è¦ä¿®æ”¹çš„è¨­å®šå¦‚ä¸‹: // Select camera model //#define CAMERA_MODEL_WROVER_KIT //#define CAMERA_MODEL_ESP_EYE //#define CAMERA_MODEL_M5STACK_PSRAM //#define CAMERA_MODEL_M5STACK_WIDE #define CAMERA_MODEL_AI_THINKER 9.2 ESP32-CAM æ–¼ Arduino é–‹ç™¼ç’°å¢ƒ æ­¤ç¯„ä¾‹ é‹ç”¨ TinyML æ–¼ ESP32-CAM äººé«”åµæ¸¬ åˆé«”é©— ä¸æ˜¯ä½¿ç”¨ TFLM çš„æ¨™æº–ç¯„ä¾‹, è€Œæ˜¯é‡å° ESP32-CAM é–‹ç™¼çš„ç‰¹å®šç¯„ä¾‹, é€™ç¯„ä¾‹çš„å¥½è™•æ˜¯å¯ä»¥åœ¨ Arduino çš„ serial monitor ä¸Šç•«å‡º camera åµæ¸¬åˆ°çš„ç°¡åœ–. (TFLM åŸå§‹ç¯„ä¾‹åƒ…åƒ…è¼¸å‡ºåµæ¸¬å‡ºäººåƒçš„å¯èƒ½æ€§) "],["references-.html", "References åƒè€ƒæ–‡ç»", " References åƒè€ƒæ–‡ç» æœ¬æ›¸æ˜¯åŸºæ–¼ TinyML TensorFLow Lite æ©Ÿå™¨å­¸ç¿’ä¸­æ–‡ç‰ˆ å…§å®¹çš„å¯¦é©—çµæœ, ä½œè€… Pete Warden åŠ Daniel Situnayake å‡æ–¼ Google å·¥ä½œ. å¯ä»¥åƒè€ƒ Pete ç›¸é—œè«–æ–‡ã€å½±ç‰‡å¦‚ä¸‹. é—œæ–¼ Make åŠ Makefile 1. å–æ¶ˆ TAGS ç¨‹å¼ä¸å—å½±éŸ¿ 2. STM32F é¸ç”¨ OPTIMIZED_KERNEL_DIR=cmsis_nn ä¾†åšæœ€ä½³åŒ– è‹±æ–‡åƒè€ƒæ–‡ç«  mbed / arm / STM 3. mbed-cli v6.7 installation 4. mbed-cli v5.15 manual installation 5. Build Arm Cortex-M voice assistant with Google TensorFlow Lite 6. CMSIS - Cortex Microcontroller Software Interface Standard 7. STM32F10x Standard Peripherals Library Peripheralâ€™s Drivers Description 8. what means about â€œ-DSTM32F10X_MD -DUSE_STDPERIPH_DRIVERâ€ as the flags of arm-none-eabi-gcc? Arduino ç›¸é—œ 9. USB ç„¡æ³•åµæ¸¬åˆ° Arduino Nano BLE 33 : æˆ‘ä¸€é–‹å§‹å¾ Mac ä¸‹è¼‰ç¨‹å¼åˆ° Nano å¾Œ, Nano åŸ·è¡Œçµæœä¸å¦‚é æœŸ, æ“”å¿ƒæ˜¯ Mac çš„ USB æœ‰å•é¡Œ(ä¸€ç›´æœ‰é‡åˆ°é¡ä¼¼å•é¡Œ), è½‰åˆ° PC Windows ä¸‹, ç™¼ç¾ USB åµæ¸¬ä¸åˆ° Nano, ç”šè‡³æ‡·ç–‘åˆ°æˆ‘ PC çš„ USB driver æœ‰å•é¡Œ, çµæœæ˜¯, å¦‚æœ Nano ä¸‹è¼‰çš„ç¨‹å¼æœ‰å•é¡Œ, æ˜¯æœ‰å¯èƒ½é€ æˆ USB åµæ¸¬ä¸åˆ°, éœ€è¦ reset Nano, é‡æ–°åˆ· firmware, å¾Œ USB æ‰èƒ½æ­£å¸¸åµæ¸¬åˆ° Nano. å…¶å®ƒ 10. Neural Network on Mobile (nnom) by Ma Jianjia - github TensorFlow 11. Tensorflow.org å®˜ç¶² 12. TensorFlow for microcontroller - å®˜ç¶² 13. Tensorflow Lite Micro on ESP32 14. TensorFlow for Micro Github å®˜ç¶² open source 15. TensorFlow Lite for Microcontroller Hello world examples TinyML (TensorFlow Lite Micro ä¸€é–‹å§‹ä½¿ç”¨çš„åç¨±) 16. æ›¸ \"TinyML Tensor Flow Lite æ©Ÿå™¨å­¸ç¿’â€œ è‹±æ–‡ç‰ˆ Oâ€™Reilly å‡ºç‰ˆ 17. æ›¸ \"TinyML Tensor Flow Lite æ©Ÿå™¨å­¸ç¿’â€œ ä¸­æ–‡ç‰ˆ Oâ€™Reilly å‡ºç‰ˆ 18. pdf - TinyML_Machine_Learning_with_TensorFlow_Lite_on_Arduino_and_Ultra.pdf 19. ARM - build voice assistant on Cortex-M with TFLM 20. TinyML summit organization 21. TinyML summit 2021 22. Tiny summit 2021 Youtube playback - partial only 23. Meet up - èˆŠé‡‘å±±ç£å€ 24. Meet up - å¾·å·å¥§æ–¯æ±€ 25. SIG Micro - TensorFlow Embedded Group 26. SIG Micro mailing list 27. SIG Micro Gitter chat channel 28. SIG Micro monthly meeting notes and agenda å…¶å®ƒæ¡†æ¶ 29. uTensor - by ARM Neil Tan 30. Microsoft - Embedded Learning Library (ELL) : ä¸»è¦é‡å° Arduino èˆ‡ micro:bit å¹³å° Pete Warden åŠç›¸é—œè³‡æ–™ 31. Pete Wardenâ€™s blog 32. Paper - TensorFlow Lite Micro 33. Pete youtube TinyML book #1 chap 4 - hello world training model 34. Pete youtube TinyML book #2 chap 5/6 - Deploying the Hello World model on an Arduino 35. Pete youtube TinyML book #3 - Introduction to TensorFlow Lite for Microcontrollers 36. Pete youtube TinyML book #4 - Quantization 37. Pete youtube Whatâ€™s TinyML good for @ AIoT Dev Summit keynote 38. Getting Started with TinyML - Pete Warden - TinyML.org - March 31, 2020 39. Getting Started with TinyML - Pete Warden - TinyML.org - March 31, 2020 - youtube 40. Getting Started with TinyML - Pete Warden - TinyML.org - March 31, 2020 - slides 41. Pete Warden, Staff Research Engineer and TensorFlow Lite development lead at Google, presents the â€œUsing TensorFlow Lite to Deploy Deep Learning on Cortex-M Microcontrollersâ€ tutorial at the May 2019 Embedded Vision Summit 42. Introducing the SparkFun Edge - Tiny models on tiny computers! é—œæ–¼ TinyML çš„å¦ä¸€ä½ä½œè€…, å·²ç¶“é›¢é–‹ Google çš„ Daniel Situnayake 43. Daniel Situnayakeâ€™s blog 44. Edge Impluse ä¸€å€‹å²å®³å¾·åœ‹äººçš„ stupid projects, åœ¨ä¸åŒçš„ embedded controller åš TFLM çš„ benchmark 45. Stupid projects - Machine Learning on Embedded (Part 1) 46. Tensorflow 2.1.0 for microcontrollers benchmarks on STM32F746 "],["appendixa.html", "A Appendix A - é–‹ç™¼æ¿é‹ç®—èƒ½åŠ›åˆ†æ", " A Appendix A - é–‹ç™¼æ¿é‹ç®—èƒ½åŠ›åˆ†æ åˆ†é¡ é–‹ç™¼æ¿ CPU RAM Flash ROM å…¶å®ƒè¨˜æ†¶é«” IOé€±é‚Š ç…§ç‰‡ form factor MCU TFL-Micro - - TFLM - - - - Arduino Nano 33 BLE nRF52840 ARM M4 64MHz with FPU 256KB SRAM 1MB Flash 45x18 mm2 STM32 DISCO_F746NG ARM M7 216MHz BGA216 340KB RAM + 16MB SDRAM 1MB Flash + 16MB Quad-SPI Flash NUCLEO_F103RB ARM M3 72MHz LQFP64 20KB SRAM 128KB Flash ESP ESP32-CAM Xensia 160MHz 520KB + 4MB PSRAM 4MB SPI Flash 27x40.5x2.5mm3 MPU TF-Lite - - TF Lite - - - - ARM A ç³»åˆ— NVidia Jetson intel Movidius MPU TensorFlow - - TensorFlow - - - - Nvidia A100 Intel Xeon-SP å„é¡ CPU ä»‹ç´¹(å¾…å®Œæˆ) "],["appendixb.html", "B Appendix B - Hello_world åŸå§‹ç¢¼åˆ†æ", " B Appendix B - Hello_world åŸå§‹ç¢¼åˆ†æ "],["appendixc.html", "C Appendix C - æ©Ÿå™¨å­¸ç¿’æ¨¡å‹ä¹‹åŠ å¼·åŠæ”¹å–„å¯èƒ½", " C Appendix C - æ©Ÿå™¨å­¸ç¿’æ¨¡å‹ä¹‹åŠ å¼·åŠæ”¹å–„å¯èƒ½ "],["appendixd.html", "D Appendix D - éŸ³é »è²è­œçš„èªªæ˜èˆ‡æ¨¡å‹åˆ†æ", " D Appendix D - éŸ³é »è²è­œçš„èªªæ˜èˆ‡æ¨¡å‹åˆ†æ "]]
